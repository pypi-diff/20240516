# Comparing `tmp/odoo_addon_rma-16.0.1.2.0.2-py3-none-any.whl.zip` & `tmp/odoo_addon_rma-17.0.1.0.0.2-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,72 +1,72 @@
-Zip file size: 205231 bytes, number of entries: 70
--rw-r--r--  2.0 unx     7905 b- defN 24-Apr-04 05:40 odoo/addons/rma/README.rst
--rw-r--r--  2.0 unx      168 b- defN 24-Apr-04 05:40 odoo/addons/rma/__init__.py
--rw-r--r--  2.0 unx     1527 b- defN 24-Apr-04 05:40 odoo/addons/rma/__manifest__.py
--rw-r--r--  2.0 unx     2825 b- defN 24-Apr-04 05:40 odoo/addons/rma/hooks.py
--rw-r--r--  2.0 unx       85 b- defN 24-Apr-04 05:40 odoo/addons/rma/controllers/__init__.py
--rw-r--r--  2.0 unx     5406 b- defN 24-Apr-04 05:40 odoo/addons/rma/controllers/main.py
--rw-r--r--  2.0 unx     6611 b- defN 24-Apr-04 05:40 odoo/addons/rma/data/mail_data.xml
--rw-r--r--  2.0 unx      421 b- defN 24-Apr-04 05:40 odoo/addons/rma/data/rma_operation_data.xml
--rw-r--r--  2.0 unx      332 b- defN 24-Apr-04 05:40 odoo/addons/rma/data/stock_data.xml
--rw-r--r--  2.0 unx    85197 b- defN 24-Apr-04 05:40 odoo/addons/rma/i18n/de.po
--rw-r--r--  2.0 unx    63422 b- defN 24-Apr-04 05:40 odoo/addons/rma/i18n/de_AT.po
--rw-r--r--  2.0 unx    89186 b- defN 24-Apr-04 05:40 odoo/addons/rma/i18n/es.po
--rw-r--r--  2.0 unx    79174 b- defN 24-Apr-04 05:40 odoo/addons/rma/i18n/fr.po
--rw-r--r--  2.0 unx    88170 b- defN 24-Apr-04 05:40 odoo/addons/rma/i18n/it.po
--rw-r--r--  2.0 unx    63419 b- defN 24-Apr-04 05:40 odoo/addons/rma/i18n/nl.po
--rw-r--r--  2.0 unx    75055 b- defN 24-Apr-04 05:40 odoo/addons/rma/i18n/pt.po
--rw-r--r--  2.0 unx    74243 b- defN 24-Apr-04 05:40 odoo/addons/rma/i18n/pt_BR.po
--rw-r--r--  2.0 unx    63427 b- defN 24-Apr-04 05:40 odoo/addons/rma/i18n/rma.pot
--rw-r--r--  2.0 unx    70994 b- defN 24-Apr-04 05:40 odoo/addons/rma/i18n/ro.po
--rw-r--r--  2.0 unx    63530 b- defN 24-Apr-04 05:40 odoo/addons/rma/i18n/zh_CN.po
--rw-r--r--  2.0 unx      408 b- defN 24-Apr-04 05:40 odoo/addons/rma/models/__init__.py
--rw-r--r--  2.0 unx     1653 b- defN 24-Apr-04 05:40 odoo/addons/rma/models/account_move.py
--rw-r--r--  2.0 unx     3159 b- defN 24-Apr-04 05:40 odoo/addons/rma/models/res_company.py
--rw-r--r--  2.0 unx     1493 b- defN 24-Apr-04 05:40 odoo/addons/rma/models/res_config_settings.py
--rw-r--r--  2.0 unx     1217 b- defN 24-Apr-04 05:40 odoo/addons/rma/models/res_partner.py
--rw-r--r--  2.0 unx      351 b- defN 24-Apr-04 05:40 odoo/addons/rma/models/res_users.py
--rw-r--r--  2.0 unx    52643 b- defN 24-Apr-04 05:40 odoo/addons/rma/models/rma.py
--rw-r--r--  2.0 unx      681 b- defN 24-Apr-04 05:40 odoo/addons/rma/models/rma_finalization.py
--rw-r--r--  2.0 unx      460 b- defN 24-Apr-04 05:40 odoo/addons/rma/models/rma_operation.py
--rw-r--r--  2.0 unx      833 b- defN 24-Apr-04 05:40 odoo/addons/rma/models/rma_tag.py
--rw-r--r--  2.0 unx     1935 b- defN 24-Apr-04 05:40 odoo/addons/rma/models/rma_team.py
--rw-r--r--  2.0 unx     5590 b- defN 24-Apr-04 05:40 odoo/addons/rma/models/stock_move.py
--rw-r--r--  2.0 unx     1407 b- defN 24-Apr-04 05:40 odoo/addons/rma/models/stock_picking.py
--rw-r--r--  2.0 unx     5437 b- defN 24-Apr-04 05:40 odoo/addons/rma/models/stock_warehouse.py
--rw-r--r--  2.0 unx      796 b- defN 24-Apr-04 05:40 odoo/addons/rma/readme/CONFIGURE.rst
--rw-r--r--  2.0 unx      218 b- defN 24-Apr-04 05:40 odoo/addons/rma/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx      557 b- defN 24-Apr-04 05:40 odoo/addons/rma/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx      175 b- defN 24-Apr-04 05:40 odoo/addons/rma/readme/ROADMAP.rst
--rw-r--r--  2.0 unx     2965 b- defN 24-Apr-04 05:40 odoo/addons/rma/readme/USAGE.rst
--rw-r--r--  2.0 unx      467 b- defN 24-Apr-04 05:40 odoo/addons/rma/report/report.xml
--rw-r--r--  2.0 unx     1724 b- defN 24-Apr-04 05:40 odoo/addons/rma/security/ir.model.access.csv
--rw-r--r--  2.0 unx     5374 b- defN 24-Apr-04 05:40 odoo/addons/rma/security/rma_security.xml
--rw-r--r--  2.0 unx     7450 b- defN 24-Apr-04 05:40 odoo/addons/rma/static/description/icon.png
--rw-r--r--  2.0 unx    18521 b- defN 24-Apr-04 05:40 odoo/addons/rma/static/description/index.html
--rw-r--r--  2.0 unx       89 b- defN 24-Apr-04 05:40 odoo/addons/rma/tests/__init__.py
--rw-r--r--  2.0 unx    34525 b- defN 24-Apr-04 05:40 odoo/addons/rma/tests/test_rma.py
--rw-r--r--  2.0 unx      603 b- defN 24-Apr-04 05:40 odoo/addons/rma/views/menus.xml
--rw-r--r--  2.0 unx     6708 b- defN 24-Apr-04 05:40 odoo/addons/rma/views/report_rma.xml
--rw-r--r--  2.0 unx     7729 b- defN 24-Apr-04 05:40 odoo/addons/rma/views/res_config_settings_views.xml
--rw-r--r--  2.0 unx      987 b- defN 24-Apr-04 05:40 odoo/addons/rma/views/res_partner_views.xml
--rw-r--r--  2.0 unx     2938 b- defN 24-Apr-04 05:40 odoo/addons/rma/views/rma_finalization_views.xml
--rw-r--r--  2.0 unx    27419 b- defN 24-Apr-04 05:40 odoo/addons/rma/views/rma_portal_templates.xml
--rw-r--r--  2.0 unx     2217 b- defN 24-Apr-04 05:40 odoo/addons/rma/views/rma_tag_views.xml
--rw-r--r--  2.0 unx     6988 b- defN 24-Apr-04 05:40 odoo/addons/rma/views/rma_team_views.xml
--rw-r--r--  2.0 unx    19283 b- defN 24-Apr-04 05:40 odoo/addons/rma/views/rma_views.xml
--rw-r--r--  2.0 unx      945 b- defN 24-Apr-04 05:40 odoo/addons/rma/views/stock_picking_views.xml
--rw-r--r--  2.0 unx      775 b- defN 24-Apr-04 05:40 odoo/addons/rma/views/stock_warehouse_views.xml
--rw-r--r--  2.0 unx      190 b- defN 24-Apr-04 05:40 odoo/addons/rma/wizard/__init__.py
--rw-r--r--  2.0 unx     3469 b- defN 24-Apr-04 05:40 odoo/addons/rma/wizard/rma_delivery.py
--rw-r--r--  2.0 unx     3412 b- defN 24-Apr-04 05:40 odoo/addons/rma/wizard/rma_delivery_views.xml
--rw-r--r--  2.0 unx      630 b- defN 24-Apr-04 05:40 odoo/addons/rma/wizard/rma_finalization_wizard.py
--rw-r--r--  2.0 unx     1346 b- defN 24-Apr-04 05:40 odoo/addons/rma/wizard/rma_finalization_wizard_views.xml
--rw-r--r--  2.0 unx     2099 b- defN 24-Apr-04 05:40 odoo/addons/rma/wizard/rma_split.py
--rw-r--r--  2.0 unx     1581 b- defN 24-Apr-04 05:40 odoo/addons/rma/wizard/rma_split_views.xml
--rw-r--r--  2.0 unx     3520 b- defN 24-Apr-04 05:40 odoo/addons/rma/wizard/stock_picking_return.py
--rw-r--r--  2.0 unx     1087 b- defN 24-Apr-04 05:40 odoo/addons/rma/wizard/stock_picking_return_views.xml
--rw-r--r--  2.0 unx     8490 b- defN 24-Apr-04 05:40 odoo_addon_rma-16.0.1.2.0.2.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 24-Apr-04 05:40 odoo_addon_rma-16.0.1.2.0.2.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 24-Apr-04 05:40 odoo_addon_rma-16.0.1.2.0.2.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     6528 b- defN 24-Apr-04 05:40 odoo_addon_rma-16.0.1.2.0.2.dist-info/RECORD
-70 files, 1100266 bytes uncompressed, 194681 bytes compressed:  82.3%
+Zip file size: 204625 bytes, number of entries: 70
+-rw-r--r--  2.0 unx     8055 b- defN 24-May-15 07:35 odoo/addons/rma/README.rst
+-rw-r--r--  2.0 unx      168 b- defN 24-May-15 07:35 odoo/addons/rma/__init__.py
+-rw-r--r--  2.0 unx     1527 b- defN 24-May-15 07:35 odoo/addons/rma/__manifest__.py
+-rw-r--r--  2.0 unx     2731 b- defN 24-May-15 07:35 odoo/addons/rma/hooks.py
+-rw-r--r--  2.0 unx       85 b- defN 24-May-15 07:35 odoo/addons/rma/controllers/__init__.py
+-rw-r--r--  2.0 unx     5455 b- defN 24-May-15 07:35 odoo/addons/rma/controllers/main.py
+-rw-r--r--  2.0 unx     6482 b- defN 24-May-15 07:35 odoo/addons/rma/data/mail_data.xml
+-rw-r--r--  2.0 unx      421 b- defN 24-May-15 07:35 odoo/addons/rma/data/rma_operation_data.xml
+-rw-r--r--  2.0 unx      332 b- defN 24-May-15 07:35 odoo/addons/rma/data/stock_data.xml
+-rw-r--r--  2.0 unx    85197 b- defN 24-May-15 07:35 odoo/addons/rma/i18n/de.po
+-rw-r--r--  2.0 unx    63422 b- defN 24-May-15 07:35 odoo/addons/rma/i18n/de_AT.po
+-rw-r--r--  2.0 unx    89186 b- defN 24-May-15 07:35 odoo/addons/rma/i18n/es.po
+-rw-r--r--  2.0 unx    79174 b- defN 24-May-15 07:35 odoo/addons/rma/i18n/fr.po
+-rw-r--r--  2.0 unx    88170 b- defN 24-May-15 07:35 odoo/addons/rma/i18n/it.po
+-rw-r--r--  2.0 unx    63419 b- defN 24-May-15 07:35 odoo/addons/rma/i18n/nl.po
+-rw-r--r--  2.0 unx    75055 b- defN 24-May-15 07:35 odoo/addons/rma/i18n/pt.po
+-rw-r--r--  2.0 unx    74243 b- defN 24-May-15 07:35 odoo/addons/rma/i18n/pt_BR.po
+-rw-r--r--  2.0 unx    62079 b- defN 24-May-15 07:35 odoo/addons/rma/i18n/rma.pot
+-rw-r--r--  2.0 unx    70994 b- defN 24-May-15 07:35 odoo/addons/rma/i18n/ro.po
+-rw-r--r--  2.0 unx    63530 b- defN 24-May-15 07:35 odoo/addons/rma/i18n/zh_CN.po
+-rw-r--r--  2.0 unx      408 b- defN 24-May-15 07:35 odoo/addons/rma/models/__init__.py
+-rw-r--r--  2.0 unx     1653 b- defN 24-May-15 07:35 odoo/addons/rma/models/account_move.py
+-rw-r--r--  2.0 unx     3159 b- defN 24-May-15 07:35 odoo/addons/rma/models/res_company.py
+-rw-r--r--  2.0 unx     1493 b- defN 24-May-15 07:35 odoo/addons/rma/models/res_config_settings.py
+-rw-r--r--  2.0 unx     1217 b- defN 24-May-15 07:35 odoo/addons/rma/models/res_partner.py
+-rw-r--r--  2.0 unx      351 b- defN 24-May-15 07:35 odoo/addons/rma/models/res_users.py
+-rw-r--r--  2.0 unx    50554 b- defN 24-May-15 07:35 odoo/addons/rma/models/rma.py
+-rw-r--r--  2.0 unx      681 b- defN 24-May-15 07:35 odoo/addons/rma/models/rma_finalization.py
+-rw-r--r--  2.0 unx      460 b- defN 24-May-15 07:35 odoo/addons/rma/models/rma_operation.py
+-rw-r--r--  2.0 unx      833 b- defN 24-May-15 07:35 odoo/addons/rma/models/rma_tag.py
+-rw-r--r--  2.0 unx     1935 b- defN 24-May-15 07:35 odoo/addons/rma/models/rma_team.py
+-rw-r--r--  2.0 unx     5585 b- defN 24-May-15 07:35 odoo/addons/rma/models/stock_move.py
+-rw-r--r--  2.0 unx     1407 b- defN 24-May-15 07:35 odoo/addons/rma/models/stock_picking.py
+-rw-r--r--  2.0 unx     5437 b- defN 24-May-15 07:35 odoo/addons/rma/models/stock_warehouse.py
+-rw-r--r--  2.0 unx      815 b- defN 24-May-15 07:35 odoo/addons/rma/readme/CONFIGURE.md
+-rw-r--r--  2.0 unx      306 b- defN 24-May-15 07:35 odoo/addons/rma/readme/CONTRIBUTORS.md
+-rw-r--r--  2.0 unx      555 b- defN 24-May-15 07:35 odoo/addons/rma/readme/DESCRIPTION.md
+-rw-r--r--  2.0 unx      176 b- defN 24-May-15 07:35 odoo/addons/rma/readme/ROADMAP.md
+-rw-r--r--  2.0 unx     3029 b- defN 24-May-15 07:35 odoo/addons/rma/readme/USAGE.md
+-rw-r--r--  2.0 unx      467 b- defN 24-May-15 07:35 odoo/addons/rma/report/report.xml
+-rw-r--r--  2.0 unx     1724 b- defN 24-May-15 07:35 odoo/addons/rma/security/ir.model.access.csv
+-rw-r--r--  2.0 unx     5374 b- defN 24-May-15 07:35 odoo/addons/rma/security/rma_security.xml
+-rw-r--r--  2.0 unx     7450 b- defN 24-May-15 07:35 odoo/addons/rma/static/description/icon.png
+-rw-r--r--  2.0 unx    18745 b- defN 24-May-15 07:35 odoo/addons/rma/static/description/index.html
+-rw-r--r--  2.0 unx       89 b- defN 24-May-15 07:35 odoo/addons/rma/tests/__init__.py
+-rw-r--r--  2.0 unx    33495 b- defN 24-May-15 07:35 odoo/addons/rma/tests/test_rma.py
+-rw-r--r--  2.0 unx      603 b- defN 24-May-15 07:35 odoo/addons/rma/views/menus.xml
+-rw-r--r--  2.0 unx     6708 b- defN 24-May-15 07:35 odoo/addons/rma/views/report_rma.xml
+-rw-r--r--  2.0 unx     4195 b- defN 24-May-15 07:35 odoo/addons/rma/views/res_config_settings_views.xml
+-rw-r--r--  2.0 unx      967 b- defN 24-May-15 07:35 odoo/addons/rma/views/res_partner_views.xml
+-rw-r--r--  2.0 unx     2910 b- defN 24-May-15 07:35 odoo/addons/rma/views/rma_finalization_views.xml
+-rw-r--r--  2.0 unx    27419 b- defN 24-May-15 07:35 odoo/addons/rma/views/rma_portal_templates.xml
+-rw-r--r--  2.0 unx     2217 b- defN 24-May-15 07:35 odoo/addons/rma/views/rma_tag_views.xml
+-rw-r--r--  2.0 unx     6861 b- defN 24-May-15 07:35 odoo/addons/rma/views/rma_team_views.xml
+-rw-r--r--  2.0 unx    20277 b- defN 24-May-15 07:35 odoo/addons/rma/views/rma_views.xml
+-rw-r--r--  2.0 unx      925 b- defN 24-May-15 07:35 odoo/addons/rma/views/stock_picking_views.xml
+-rw-r--r--  2.0 unx      775 b- defN 24-May-15 07:35 odoo/addons/rma/views/stock_warehouse_views.xml
+-rw-r--r--  2.0 unx      190 b- defN 24-May-15 07:35 odoo/addons/rma/wizard/__init__.py
+-rw-r--r--  2.0 unx     3469 b- defN 24-May-15 07:35 odoo/addons/rma/wizard/rma_delivery.py
+-rw-r--r--  2.0 unx     2927 b- defN 24-May-15 07:35 odoo/addons/rma/wizard/rma_delivery_views.xml
+-rw-r--r--  2.0 unx      630 b- defN 24-May-15 07:35 odoo/addons/rma/wizard/rma_finalization_wizard.py
+-rw-r--r--  2.0 unx     1346 b- defN 24-May-15 07:35 odoo/addons/rma/wizard/rma_finalization_wizard_views.xml
+-rw-r--r--  2.0 unx     2099 b- defN 24-May-15 07:35 odoo/addons/rma/wizard/rma_split.py
+-rw-r--r--  2.0 unx     1581 b- defN 24-May-15 07:35 odoo/addons/rma/wizard/rma_split_views.xml
+-rw-r--r--  2.0 unx     3520 b- defN 24-May-15 07:35 odoo/addons/rma/wizard/stock_picking_return.py
+-rw-r--r--  2.0 unx     1066 b- defN 24-May-15 07:35 odoo/addons/rma/wizard/stock_picking_return_views.xml
+-rw-r--r--  2.0 unx     8619 b- defN 24-May-15 07:35 odoo_addon_rma-17.0.1.0.0.2.dist-info/METADATA
+-rw-r--r--  2.0 unx       83 b- defN 24-May-15 07:35 odoo_addon_rma-17.0.1.0.0.2.dist-info/WHEEL
+-rw-r--r--  2.0 unx        4 b- defN 24-May-15 07:35 odoo_addon_rma-17.0.1.0.0.2.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     6523 b- defN 24-May-15 07:35 odoo_addon_rma-17.0.1.0.0.2.dist-info/RECORD
+70 files, 1093037 bytes uncompressed, 194085 bytes compressed:  82.2%
```

## zipnote {}

```diff
@@ -96,27 +96,27 @@
 
 Filename: odoo/addons/rma/models/stock_picking.py
 Comment: 
 
 Filename: odoo/addons/rma/models/stock_warehouse.py
 Comment: 
 
-Filename: odoo/addons/rma/readme/CONFIGURE.rst
+Filename: odoo/addons/rma/readme/CONFIGURE.md
 Comment: 
 
-Filename: odoo/addons/rma/readme/CONTRIBUTORS.rst
+Filename: odoo/addons/rma/readme/CONTRIBUTORS.md
 Comment: 
 
-Filename: odoo/addons/rma/readme/DESCRIPTION.rst
+Filename: odoo/addons/rma/readme/DESCRIPTION.md
 Comment: 
 
-Filename: odoo/addons/rma/readme/ROADMAP.rst
+Filename: odoo/addons/rma/readme/ROADMAP.md
 Comment: 
 
-Filename: odoo/addons/rma/readme/USAGE.rst
+Filename: odoo/addons/rma/readme/USAGE.md
 Comment: 
 
 Filename: odoo/addons/rma/report/report.xml
 Comment: 
 
 Filename: odoo/addons/rma/security/ir.model.access.csv
 Comment: 
@@ -192,20 +192,20 @@
 
 Filename: odoo/addons/rma/wizard/stock_picking_return.py
 Comment: 
 
 Filename: odoo/addons/rma/wizard/stock_picking_return_views.xml
 Comment: 
 
-Filename: odoo_addon_rma-16.0.1.2.0.2.dist-info/METADATA
+Filename: odoo_addon_rma-17.0.1.0.0.2.dist-info/METADATA
 Comment: 
 
-Filename: odoo_addon_rma-16.0.1.2.0.2.dist-info/WHEEL
+Filename: odoo_addon_rma-17.0.1.0.0.2.dist-info/WHEEL
 Comment: 
 
-Filename: odoo_addon_rma-16.0.1.2.0.2.dist-info/top_level.txt
+Filename: odoo_addon_rma-17.0.1.0.0.2.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo_addon_rma-16.0.1.2.0.2.dist-info/RECORD
+Filename: odoo_addon_rma-17.0.1.0.0.2.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/rma/README.rst

```diff
@@ -3,175 +3,184 @@
 ===========================================
 
 .. 
    !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
    !! This file is generated by oca-gen-addon-readme !!
    !! changes will be overwritten.                   !!
    !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
-   !! source digest: sha256:4883b701d44a55d02e769bdbf411c649efc42341792b63e965630e712a6406d9
+   !! source digest: sha256:9ca167b75e0dcd82a66217ef64dd006910f4feda1f408dbdf09ef43e6555eb22
    !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 
 .. |badge1| image:: https://img.shields.io/badge/maturity-Production%2FStable-green.png
     :target: https://odoo-community.org/page/development-status
     :alt: Production/Stable
 .. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
     :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
     :alt: License: AGPL-3
 .. |badge3| image:: https://img.shields.io/badge/github-OCA%2Frma-lightgray.png?logo=github
-    :target: https://github.com/OCA/rma/tree/16.0/rma
+    :target: https://github.com/OCA/rma/tree/17.0/rma
     :alt: OCA/rma
 .. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
-    :target: https://translation.odoo-community.org/projects/rma-16-0/rma-16-0-rma
+    :target: https://translation.odoo-community.org/projects/rma-17-0/rma-17-0-rma
     :alt: Translate me on Weblate
 .. |badge5| image:: https://img.shields.io/badge/runboat-Try%20me-875A7B.png
-    :target: https://runboat.odoo-community.org/builds?repo=OCA/rma&target_branch=16.0
+    :target: https://runboat.odoo-community.org/builds?repo=OCA/rma&target_branch=17.0
     :alt: Try me on Runboat
 
 |badge1| |badge2| |badge3| |badge4| |badge5|
 
-This module allows you to manage `Return Merchandise Authorization (RMA)
-<https://en.wikipedia.org/wiki/Return_merchandise_authorization>`_.
+This module allows you to manage `Return Merchandise Authorization
+(RMA) <https://en.wikipedia.org/wiki/Return_merchandise_authorization>`__.
 RMA documents can be created from scratch, from a delivery order or from
 an incoming email. Product receptions and returning delivery operations
 of the RMA module are fully integrated with the Receipts and Deliveries
 Operations of Odoo inventory core module. It also allows you to generate
-refunds in the same way as Odoo generates it.
-Besides, you have full integration of the RMA documents in the customer portal.
+refunds in the same way as Odoo generates it. Besides, you have full
+integration of the RMA documents in the customer portal.
 
 **Table of contents**
 
 .. contents::
    :local:
 
 Configuration
 =============
 
 If you want RMAs to be created from incoming emails, you need to:
 
-#. Go to *Settings > General Settings*.
-#. Check 'External Email Servers' checkbox under *Discuss* section.
-#. Set an 'alias domain' and an incoming server.
-#. Go to *RMA > Configuration > RMA Team* and select a team or create a new
-   one.
-#. Go to 'Email' tab and set an 'Email Alias'.
+1. Go to *Settings > General Settings*.
+2. Check 'External Email Servers' checkbox under *Discuss* section.
+3. Set an 'alias domain' and an incoming server.
+4. Go to *RMA > Configuration > RMA Team* and select a team or create a
+   new one.
+5. Go to 'Email' tab and set an 'Email Alias'.
 
 If you want to manually finish RMAs, you need to:
 
-#. Go to *Settings > Inventory*.
-#. Set *Finish RMAs manually* checkbox on.
+1. Go to *Settings > Inventory*.
+2. Set *Finish RMAs manually* checkbox on.
 
-By default, returns to customer are grouped by shipping address, warehouse and company.
-If you want to avoid this grouping you can:
+By default, returns to customer are grouped by shipping address,
+warehouse and company. If you want to avoid this grouping you can:
 
-#. Go to *Settings > Inventory*.
-#. Set *Group RMA returns by customer address and warehouse* checkbox off.
+1. Go to *Settings > Inventory*.
+2. Set *Group RMA returns by customer address and warehouse* checkbox
+   off.
 
 The users will still be able to group those pickings from the wizard.
 
 Usage
 =====
 
 To use this module, you need to:
 
-#. Go to *RMA > Orders* and create a new RMA.
-#. Select a partner, an invoice address, select a product
-   (or select a picking and a move instead), write a quantity, fill the rest
-   of the form and click on 'confirm' button in the status bar.
-#. You will see an smart button labeled 'Receipt'. Click on that button to see
-   the reception operation form.
-#. If everything is right, validate the operation and go back to the RMA to
-   see it in a 'received' state.
-#. Now you are able to generate a refund, generate a delivery order to return
-   to the customer the same product or another product as a replacement, split
-   the RMA by extracting a part of the remaining quantity to another RMA,
-   preview the RMA in the website. All of these operations can be done by
-   clicking on the buttons in the status bar.
-
-   * If you click on 'Refund' button, a refund will be created, and it will be
-     accessible via the smart button labeled Refund. The RMA will be set
-     automatically to 'Refunded' state when the refund is validated.
-   * If you click on 'Replace' or 'Return to customer' button instead,
-     a popup wizard will guide you to create a Delivery order to the client
-     and this order will be accessible via the smart button labeled Delivery.
-     The RMA will be set automatically to 'Replaced' or 'Returned' state when
-     the RMA quantity is equal or lower than the quantity in done delivery
-     orders linked to it.
-#. You can also finish the RMA without further ado. To do so click on the *Finish*
-   button. A wizard will ask you for the reason from a selection of preconfigured ones.
-   Be sure to configure them in advance on *RMA > Configuration > Finalization Reasons*.
-   Once the RMA is finished, it will be set to that state and the reason will be
+1. Go to *RMA > Orders* and create a new RMA.
+2. Select a partner, an invoice address, select a product (or select a
+   picking and a move instead), write a quantity, fill the rest of the
+   form and click on 'confirm' button in the status bar.
+3. You will see an smart button labeled 'Receipt'. Click on that button
+   to see the reception operation form.
+4. If everything is right, validate the operation and go back to the RMA
+   to see it in a 'received' state.
+5. Now you are able to generate a refund, generate a delivery order to
+   return to the customer the same product or another product as a
+   replacement, split the RMA by extracting a part of the remaining
+   quantity to another RMA, preview the RMA in the website. All of these
+   operations can be done by clicking on the buttons in the status bar.
+
+   -  If you click on 'To Refund' button, a refund will be created, and
+      it will be accessible via the smart button labeled Refund. The RMA
+      will be set automatically to 'Refunded' state when the refund is
+      validated.
+   -  If you click on 'Replace' or 'Return to customer' button instead,
+      a popup wizard will guide you to create a Delivery order to the
+      client and this order will be accessible via the smart button
+      labeled Delivery. The RMA will be set automatically to 'Replaced'
+      or 'Returned' state when the RMA quantity is equal or lower than
+      the quantity in done delivery orders linked to it.
+
+6. You can also finish the RMA without further ado. To do so click on
+   the *Finish* button. A wizard will ask you for the reason from a
+   selection of preconfigured ones. Be sure to configure them in advance
+   on *RMA > Configuration > Finalization Reasons*. Once the RMA is
+   finished, it will be set to that state and the reason will be
    registered.
 
 An RMA can also be created from a return of a delivery order:
 
-#. Select a delivery order and click on 'Return' button to create a return.
-#. Check "Create RMAs" checkbox in the returning wizard, select the RMA
+1. Select a delivery order and click on 'Return' button to create a
+   return.
+2. Check "Create RMAs" checkbox in the returning wizard, select the RMA
    stock location and click on 'Return' button.
-#. An RMA will be created for each product returned in the previous step.
-   Every RMA will be in confirmed state and they will
-   be linked to the returning operation generated previously.
+3. An RMA will be created for each product returned in the previous
+   step. Every RMA will be in confirmed state and they will be linked to
+   the returning operation generated previously.
 
 There are Optional RMA Teams that can be used for:
 
-  - Organize RMAs in sections.
-  - Subscribe users to notifications.
-  - Create RMAs from incoming mail to special aliases (See configuration
-    section).
+   -  Organize RMAs in sections.
+   -  Subscribe users to notifications.
+   -  Create RMAs from incoming mail to special aliases (See
+      configuration section).
 
 To create an RMA Team (RMA Responsible user level required):
 
-  #. Go to *RMA > Configuration > RMA Teams*
-  #. Create a new team and assign a name, a responsible and members.
-  #. Subscribe users to notifications, that can be of these subtypes:
-
-     - RMA draft. When a new RMA is created.
-     - Notes, Debates, Activities. As in standard Odoo.
-  #. In the list view, use the cross handle to sort RMA Teams. The top team
-     will be the default one if no team is set.
+   1. Go to *RMA > Configuration > RMA Teams*
+   2. Create a new team and assign a name, a responsible and members.
+   3. Subscribe users to notifications, that can be of these subtypes:
+
+      -  RMA draft. When a new RMA is created.
+      -  Notes, Debates, Activities. As in standard Odoo.
+
+   4. In the list view, use the cross handle to sort RMA Teams. The top
+      team will be the default one if no team is set.
 
 Known issues / Roadmap
 ======================
 
-* As soon as the picking is selected, the user should select the move,
-  but perhaps stock.move _rec_name could be improved to better show what
-  the product of that move is.
+-  As soon as the picking is selected, the user should select the move,
+   but perhaps stock.move \_rec_name could be improved to better show
+   what the product of that move is.
 
 Bug Tracker
 ===========
 
 Bugs are tracked on `GitHub Issues <https://github.com/OCA/rma/issues>`_.
 In case of trouble, please check there if your issue has already been reported.
 If you spotted it first, help us to smash it by providing a detailed and welcomed
-`feedback <https://github.com/OCA/rma/issues/new?body=module:%20rma%0Aversion:%2016.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
+`feedback <https://github.com/OCA/rma/issues/new?body=module:%20rma%0Aversion:%2017.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
 
 Do not contact contributors directly about support or help with technical issues.
 
 Credits
 =======
 
 Authors
-~~~~~~~
+-------
 
 * Tecnativa
 
 Contributors
-~~~~~~~~~~~~
+------------
+
+-  `Tecnativa <https://www.tecnativa.com>`__:
 
-* `Tecnativa <https://www.tecnativa.com>`_:
+   -  Ernesto Tejeda
+   -  Pedro M. Baeza
+   -  David Vidal
+   -  Víctor Martínez
 
-  * Ernesto Tejeda
-  * Pedro M. Baeza
-  * David Vidal
-  * Víctor Martínez
+-  Chafique Delli <chafique.delli@akretion.com>
+-  Giovanni Serra - Ooops <giovanni@ooops404.com>
+-  `APSL-Nagarro <https://www.apsl.tech>`__:
 
-* Chafique Delli <chafique.delli@akretion.com>
-* Giovanni Serra - Ooops <giovanni@ooops404.com>
+   -  Antoni Marroig <amarroig@apsl.net>
 
 Maintainers
-~~~~~~~~~~~
+-----------
 
 This module is maintained by the OCA.
 
 .. image:: https://odoo-community.org/logo.png
    :alt: Odoo Community Association
    :target: https://odoo-community.org
 
@@ -186,10 +195,10 @@
     :target: https://github.com/chienandalu
     :alt: chienandalu
 
 Current `maintainers <https://odoo-community.org/page/maintainer-role>`__:
 
 |maintainer-pedrobaeza| |maintainer-chienandalu| 
 
-This module is part of the `OCA/rma <https://github.com/OCA/rma/tree/16.0/rma>`_ project on GitHub.
+This module is part of the `OCA/rma <https://github.com/OCA/rma/tree/17.0/rma>`_ project on GitHub.
 
 You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
```

## odoo/addons/rma/__manifest__.py

```diff
@@ -1,15 +1,15 @@
 # Copyright 2020 Tecnativa - Ernesto Tejeda
 # Copyright 2021-2023 Tecnativa - David Vidal
 # Copyright 2021-2023 Tecnativa - Pedro M. Baeza
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl).
 {
     "name": "Return Merchandise Authorization Management",
     "summary": "Return Merchandise Authorization (RMA)",
-    "version": "16.0.1.2.0",
+    "version": "17.0.1.0.0",
     "development_status": "Production/Stable",
     "category": "RMA",
     "website": "https://github.com/OCA/rma",
     "author": "Tecnativa, Odoo Community Association (OCA)",
     "maintainers": ["pedrobaeza", "chienandalu"],
     "license": "AGPL-3",
     "depends": ["stock_account"],
```

## odoo/addons/rma/hooks.py

```diff
@@ -1,16 +1,12 @@
 # Copyright 2020 Tecnativa - Ernesto Tejeda
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl).
 
-from odoo import SUPERUSER_ID, api
-
-
-def post_init_hook(cr, registry):
-    env = api.Environment(cr, SUPERUSER_ID, {})
 
+def post_init_hook(env):
     def _get_next_picking_type_color():
         """Choose the next available color for the operation types."""
         stock_picking_type = env["stock.picking.type"]
         picking_type = stock_picking_type.search_read(
             [("warehouse_id", "!=", False), ("color", "!=", False)],
             ["color"],
             order="color",
```

## odoo/addons/rma/controllers/main.py

```diff
@@ -3,15 +3,16 @@
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl).
 
 from odoo import _, exceptions, http
 from odoo.exceptions import AccessError, MissingError
 from odoo.http import request
 from odoo.tools import consteq
 
-from odoo.addons.portal.controllers.portal import CustomerPortal, pager as portal_pager
+from odoo.addons.portal.controllers.portal import CustomerPortal
+from odoo.addons.portal.controllers.portal import pager as portal_pager
 
 
 class PortalRma(CustomerPortal):
     def _prepare_home_portal_values(self, counters):
         values = super()._prepare_home_portal_values(counters)
         if "rma_count" in counters:
             rma_model = request.env["rma"]
```

## odoo/addons/rma/data/mail_data.xml

### odoo/addons/rma/data/mail_data.xml

```diff
@@ -33,16 +33,15 @@
   <!--RMA email template -->
   <record id="mail_template_rma_notification" model="mail.template">
     <field name="name">RMA Notification</field>
     <field name="model_id" ref="model_rma"/>
     <field name="email_from">{{object.user_id.email_formatted}}</field>
     <field name="partner_to">{{object.partner_id.id}}</field>
     <field name="subject">{{object.company_id.name}} RMA (Ref {{object.name or 'n/a' }})</field>
-    <field name="report_template" ref="report_rma_action"/>
-    <field name="report_name">{{(object.name or '')}}</field>
+    <field name="report_template_ids" eval="[(4, ref('rma.report_rma_action'))]"/>
     <field name="lang">{{object.partner_id.lang}}</field>
     <field name="auto_delete" eval="True"/>
     <field name="body_html" type="html">
       <div style="margin: 0px; padding: 0px;">
         <p style="margin: 0px; padding: 0px; font-size: 13px;">
           Dear
           <t t-out="object.partner_id.name"/>
@@ -68,16 +67,15 @@
   <!--RMA receipt confirmation email template -->
   <record id="mail_template_rma_receipt_notification" model="mail.template">
     <field name="name">RMA Receipt Notification</field>
     <field name="model_id" ref="model_rma"/>
     <field name="email_from">{{object.user_id.email_formatted }}</field>
     <field name="partner_to">{{object.partner_id.id}}</field>
     <field name="subject">{{object.company_id.name}} RMA (Ref {{object.name or 'n/a' }}) products received</field>
-    <field name="report_template" ref="report_rma_action"/>
-    <field name="report_name">{{(object.name or '')}}</field>
+    <field name="report_template_ids" eval="[(4, ref('rma.report_rma_action'))]"/>
     <field name="lang">{{object.partner_id.lang}}</field>
     <field name="auto_delete" eval="True"/>
     <field name="body_html" type="html">
       <div style="margin: 0px; padding: 0px;">
         <p style="margin: 0px; padding: 0px; font-size: 13px;">
           Dear
           <t t-out="object.partner_id.name"/>
@@ -102,16 +100,15 @@
   </record>
   <record id="mail_template_rma_draft_notification" model="mail.template">
     <field name="name">RMA Draft Notification</field>
     <field name="model_id" ref="model_rma"/>
     <field name="email_from">{{object.user_id.email_formatted}}</field>
     <field name="partner_to">{{object.partner_id.id}}</field>
     <field name="subject">{{object.company_id.name}} Your RMA has been succesfully created (Ref {{object.name or 'n/a' }})</field>
-    <field name="report_template" ref="report_rma_action"/>
-    <field name="report_name">{{(object.name or '')}}</field>
+    <field name="report_template_ids" eval="[(4, ref('rma.report_rma_action'))]"/>
     <field name="lang">{{object.partner_id.lang}}</field>
     <field name="auto_delete" eval="True"/>
     <field name="body_html" type="html">
       <div style="margin: 0px; padding: 0px;">
         <p style="margin: 0px; padding: 0px; font-size: 13px;">
           Dear
           <t t-out="object.partner_id.name"/>
```

## odoo/addons/rma/i18n/rma.pot

```diff
@@ -1,14 +1,14 @@
 # Translation of Odoo Server.
 # This file contains the translation of the following modules:
 # 	* rma
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: Odoo Server 16.0\n"
+"Project-Id-Version: Odoo Server 17.0\n"
 "Report-Msgid-Bugs-To: \n"
 "Last-Translator: \n"
 "Language-Team: \n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: \n"
 "Plural-Forms: \n"
@@ -216,21 +216,14 @@
 "<span class=\"badge badge-warning label-text-align\">\n"
 "                                    <i class=\"fa fa-fw fa-clock-o\"/>\n"
 "                                    Partially Available\n"
 "                                </span>"
 msgstr ""
 
 #. module: rma
-#: model_terms:ir.ui.view,arch_db:rma.res_config_settings_view_form
-msgid ""
-"<span class=\"fa fa-lg fa-building-o\" title=\"Values set here are company-"
-"specific.\" groups=\"base.group_multi_company\"/>"
-msgstr ""
-
-#. module: rma
 #: model_terms:ir.ui.view,arch_db:rma.portal_rma_page
 msgid "<strong class=\"d-block mb-1\">Delivery</strong>"
 msgstr ""
 
 #. module: rma
 #: model_terms:ir.ui.view,arch_db:rma.portal_rma_page
 msgid "<strong class=\"d-block mb-1\">Reception</strong>"
@@ -407,21 +400,41 @@
 
 #. module: rma
 #: model:ir.model.fields,field_description:rma.field_rma_team__alias_contact
 msgid "Alias Contact Security"
 msgstr ""
 
 #. module: rma
+#: model:ir.model.fields,field_description:rma.field_rma_team__alias_domain_id
+msgid "Alias Domain"
+msgstr ""
+
+#. module: rma
+#: model:ir.model.fields,field_description:rma.field_rma_team__alias_domain
+msgid "Alias Domain Name"
+msgstr ""
+
+#. module: rma
+#: model:ir.model.fields,field_description:rma.field_rma_team__alias_full_name
+msgid "Alias Email"
+msgstr ""
+
+#. module: rma
 #: model:ir.model.fields,field_description:rma.field_rma_team__alias_name
 msgid "Alias Name"
 msgstr ""
 
 #. module: rma
-#: model:ir.model.fields,field_description:rma.field_rma_team__alias_domain
-msgid "Alias domain"
+#: model:ir.model.fields,field_description:rma.field_rma_team__alias_status
+msgid "Alias Status"
+msgstr ""
+
+#. module: rma
+#: model:ir.model.fields,help:rma.field_rma_team__alias_status
+msgid "Alias status assessed on the last message received."
 msgstr ""
 
 #. module: rma
 #: model:ir.model.fields,field_description:rma.field_rma_team__alias_model_id
 msgid "Aliased Model"
 msgstr ""
 
@@ -669,19 +682,14 @@
 
 #. module: rma
 #: model:ir.model.fields,field_description:rma.field_rma__delivered_qty
 msgid "Delivered Qty"
 msgstr ""
 
 #. module: rma
-#: model:ir.model.fields,field_description:rma.field_rma__delivered_qty_done
-msgid "Delivered Qty Done"
-msgstr ""
-
-#. module: rma
 #: model_terms:ir.ui.view,arch_db:rma.rma_view_form
 msgid "Delivery"
 msgstr ""
 
 #. module: rma
 #: model:ir.model.fields,field_description:rma.field_rma__delivery_picking_count
 msgid "Delivery count"
@@ -724,14 +732,15 @@
 
 #. module: rma
 #: model_terms:ir.ui.view,arch_db:rma.rma_team_view_form
 msgid "Email"
 msgstr ""
 
 #. module: rma
+#: model:ir.model.fields,field_description:rma.field_rma_team__alias_email
 #: model_terms:ir.ui.view,arch_db:rma.rma_team_view_form
 msgid "Email Alias"
 msgstr ""
 
 #. module: rma
 #: model_terms:ir.ui.view,arch_db:rma.res_config_settings_view_form
 msgid "Email Template"
@@ -752,14 +761,19 @@
 #. module: rma
 #: model:ir.model.fields,field_description:rma.field_res_company__rma_mail_receipt_confirmation_template_id
 #: model:ir.model.fields,field_description:rma.field_res_config_settings__rma_mail_receipt_confirmation_template_id
 msgid "Email Template receipt confirmation for RMA"
 msgstr ""
 
 #. module: rma
+#: model:ir.model.fields,help:rma.field_rma_team__alias_domain
+msgid "Email domain e.g. 'example.com' in 'odoo@example.com'"
+msgstr ""
+
+#. module: rma
 #: model:ir.model.fields,help:rma.field_res_company__rma_mail_confirmation_template_id
 #: model:ir.model.fields,help:rma.field_res_config_settings__rma_mail_confirmation_template_id
 msgid "Email sent to the customer once the RMA is confirmed."
 msgstr ""
 
 #. module: rma
 #: model:ir.model.fields,help:rma.field_res_company__rma_mail_receipt_confirmation_template_id
@@ -898,15 +912,17 @@
 #: model:ir.model.fields,help:rma.field_rma__message_needaction
 #: model:ir.model.fields,help:rma.field_rma_team__message_needaction
 msgid "If checked, new messages require your attention."
 msgstr ""
 
 #. module: rma
 #: model:ir.model.fields,help:rma.field_rma__message_has_error
+#: model:ir.model.fields,help:rma.field_rma__message_has_sms_error
 #: model:ir.model.fields,help:rma.field_rma_team__message_has_error
+#: model:ir.model.fields,help:rma.field_rma_team__message_has_sms_error
 msgid "If checked, some messages have a delivery error."
 msgstr ""
 
 #. module: rma
 #: model:ir.model.fields,help:rma.field_rma_team__alias_bounced_content
 msgid ""
 "If set, this content will automatically be sent out to unauthorized users "
@@ -955,26 +971,14 @@
 
 #. module: rma
 #: model:ir.model,name:rma.model_account_move_line
 msgid "Journal Item"
 msgstr ""
 
 #. module: rma
-#: model:ir.model.fields,field_description:rma.field_rma____last_update
-#: model:ir.model.fields,field_description:rma.field_rma_delivery_wizard____last_update
-#: model:ir.model.fields,field_description:rma.field_rma_finalization____last_update
-#: model:ir.model.fields,field_description:rma.field_rma_finalization_wizard____last_update
-#: model:ir.model.fields,field_description:rma.field_rma_operation____last_update
-#: model:ir.model.fields,field_description:rma.field_rma_split_wizard____last_update
-#: model:ir.model.fields,field_description:rma.field_rma_tag____last_update
-#: model:ir.model.fields,field_description:rma.field_rma_team____last_update
-msgid "Last Modified on"
-msgstr ""
-
-#. module: rma
 #: model:ir.model.fields,field_description:rma.field_rma__write_uid
 #: model:ir.model.fields,field_description:rma.field_rma_delivery_wizard__write_uid
 #: model:ir.model.fields,field_description:rma.field_rma_finalization__write_uid
 #: model:ir.model.fields,field_description:rma.field_rma_finalization_wizard__write_uid
 #: model:ir.model.fields,field_description:rma.field_rma_operation__write_uid
 #: model:ir.model.fields,field_description:rma.field_rma_split_wizard__write_uid
 #: model:ir.model.fields,field_description:rma.field_rma_tag__write_uid
@@ -996,14 +1000,19 @@
 
 #. module: rma
 #: model_terms:ir.ui.view,arch_db:rma.rma_view_search
 msgid "Late RMAs"
 msgstr ""
 
 #. module: rma
+#: model:ir.model.fields,field_description:rma.field_rma_team__alias_incoming_local
+msgid "Local-part based incoming detection"
+msgstr ""
+
+#. module: rma
 #: model:ir.model.fields,field_description:rma.field_rma__location_id
 msgid "Location"
 msgstr ""
 
 #. module: rma
 #: model_terms:ir.ui.view,arch_db:rma.rma_view_form
 msgid "Lock"
@@ -1011,20 +1020,14 @@
 
 #. module: rma
 #: model:ir.model.fields.selection,name:rma.selection__rma__state__locked
 msgid "Locked"
 msgstr ""
 
 #. module: rma
-#: model:ir.model.fields,field_description:rma.field_rma__message_main_attachment_id
-#: model:ir.model.fields,field_description:rma.field_rma_team__message_main_attachment_id
-msgid "Main Attachment"
-msgstr ""
-
-#. module: rma
 #: model_terms:ir.actions.act_window,help:rma.action_rma_finalization
 msgid ""
 "Manage RMA finalization reasons to better classify them for tracking and "
 "analysis purposes."
 msgstr ""
 
 #. module: rma
@@ -1161,19 +1164,14 @@
 
 #. module: rma
 #: model_terms:ir.ui.view,arch_db:rma.rma_view_form
 msgid "Other Information"
 msgstr ""
 
 #. module: rma
-#: model:ir.model.fields,field_description:rma.field_rma_team__alias_user_id
-msgid "Owner"
-msgstr ""
-
-#. module: rma
 #: model:ir.model.fields,field_description:rma.field_rma_team__alias_parent_model_id
 msgid "Parent Model"
 msgstr ""
 
 #. module: rma
 #: model:ir.model.fields,field_description:rma.field_rma_team__alias_parent_thread_id
 msgid "Parent Record Thread ID"
@@ -1293,19 +1291,14 @@
 #. odoo-python
 #: code:addons/rma/models/res_company.py:0
 #, python-format
 msgid "RMA Code"
 msgstr ""
 
 #. module: rma
-#: model_terms:ir.ui.view,arch_db:rma.res_config_settings_view_form
-msgid "RMA Confirmation Email"
-msgstr ""
-
-#. module: rma
 #: model_terms:ir.ui.view,arch_db:rma.rma_view_search
 msgid "RMA Date"
 msgstr ""
 
 #. module: rma
 #: model_terms:ir.ui.view,arch_db:rma.rma_view_search
 msgid "RMA Deadline"
@@ -1357,19 +1350,14 @@
 
 #. module: rma
 #: model:ir.model.fields,field_description:rma.field_stock_warehouse__rma_loc_id
 msgid "RMA Location"
 msgstr ""
 
 #. module: rma
-#: model_terms:ir.ui.view,arch_db:rma.res_config_settings_view_form
-msgid "RMA Manual Finalization"
-msgstr ""
-
-#. module: rma
 #: model:mail.message.subtype,name:rma.mt_rma_notification
 #: model:mail.message.subtype,name:rma.mt_rma_team_rma_notification
 #: model:mail.template,name:rma.mail_template_rma_notification
 msgid "RMA Notification"
 msgstr ""
 
 #. module: rma
@@ -1386,19 +1374,14 @@
 
 #. module: rma
 #: model:ir.model.fields,field_description:rma.field_stock_warehouse__rma_out_type_id
 msgid "RMA Out Type"
 msgstr ""
 
 #. module: rma
-#: model_terms:ir.ui.view,arch_db:rma.res_config_settings_view_form
-msgid "RMA Receipt Confirmation Email"
-msgstr ""
-
-#. module: rma
 #: model:mail.template,name:rma.mail_template_rma_receipt_notification
 msgid "RMA Receipt Notification"
 msgstr ""
 
 #. module: rma
 #. odoo-python
 #: code:addons/rma/models/stock_warehouse.py:0
@@ -1451,19 +1434,14 @@
 #: model:ir.model.fields,field_description:rma.field_res_partner__rma_count
 #: model:ir.model.fields,field_description:rma.field_res_users__rma_count
 #: model:ir.model.fields,field_description:rma.field_stock_picking__rma_count
 msgid "RMA count"
 msgstr ""
 
 #. module: rma
-#: model_terms:ir.ui.view,arch_db:rma.res_config_settings_view_form
-msgid "RMA draft notification Email"
-msgstr ""
-
-#. module: rma
 #: model:mail.message.subtype,description:rma.mt_rma_draft
 msgid "RMA in draft state"
 msgstr ""
 
 #. module: rma
 #: model:ir.model.fields,field_description:rma.field_stock_move__rma_receiver_ids
 msgid "RMA receivers"
@@ -1570,19 +1548,14 @@
 
 #. module: rma
 #: model:ir.model.fields,field_description:rma.field_rma__remaining_qty
 msgid "Remaining delivered qty"
 msgstr ""
 
 #. module: rma
-#: model:ir.model.fields,field_description:rma.field_rma__remaining_qty_to_done
-msgid "Remaining delivered qty to done"
-msgstr ""
-
-#. module: rma
 #: model:rma.operation,name:rma.rma_operation_return
 msgid "Repair"
 msgstr ""
 
 #. module: rma
 #: model:ir.model.fields.selection,name:rma.selection__rma_delivery_wizard__type__replace
 #: model:rma.operation,name:rma.rma_operation_replace
@@ -1693,14 +1666,20 @@
 
 #. module: rma
 #: model:ir.model.fields,field_description:rma.field_stock_return_picking__rma_location_ids
 msgid "Rma Location"
 msgstr ""
 
 #. module: rma
+#: model:ir.model.fields,field_description:rma.field_rma__message_has_sms_error
+#: model:ir.model.fields,field_description:rma.field_rma_team__message_has_sms_error
+msgid "SMS Delivery error"
+msgstr ""
+
+#. module: rma
 #: model:ir.model.fields,field_description:rma.field_rma_delivery_wizard__scheduled_date
 msgid "Scheduled Date"
 msgstr ""
 
 #. module: rma
 #: model:ir.model.fields,field_description:rma.field_rma__access_token
 msgid "Security Token"
@@ -1904,23 +1883,14 @@
 #: model:ir.model.fields,help:rma.field_rma_team__alias_name
 msgid ""
 "The name of the email alias, e.g. 'jobs' if you want to catch emails for "
 "<jobs@example.odoo.com>"
 msgstr ""
 
 #. module: rma
-#: model:ir.model.fields,help:rma.field_rma_team__alias_user_id
-msgid ""
-"The owner of records created upon receiving emails on this alias. If this "
-"field is not set the system will attempt to find the right owner based on "
-"the sender (From) address, or will use the Administrator account if no "
-"system user is found for that address."
-msgstr ""
-
-#. module: rma
 #. odoo-python
 #: code:addons/rma/models/stock_move.py:0
 #, python-format
 msgid ""
 "The quantity done for the product '%(id)s' must be equal to its initial "
 "demand because the stock move is linked to an RMA (%(name)s)."
 msgstr ""
@@ -2036,14 +2006,19 @@
 
 #. module: rma
 #: model:res.groups,name:rma.rma_group_user_own
 msgid "User: Own Documents Only"
 msgstr ""
 
 #. module: rma
+#: model_terms:ir.ui.view,arch_db:rma.res_config_settings_view_form
+msgid "Values set here are company-specific."
+msgstr ""
+
+#. module: rma
 #: model:ir.model.fields.selection,name:rma.selection__rma__state__waiting_replacement
 msgid "Waiting for replacement"
 msgstr ""
 
 #. module: rma
 #: model:ir.model.fields.selection,name:rma.selection__rma__state__waiting_return
 msgid "Waiting for return"
@@ -2085,16 +2060,16 @@
 #: model_terms:ir.ui.view,arch_db:rma.res_config_settings_view_form
 msgid "When the RMA is confirmed, send an automatic information email."
 msgstr ""
 
 #. module: rma
 #: model_terms:ir.ui.view,arch_db:rma.res_config_settings_view_form
 msgid ""
-"When the RMA is receive, allow to finsish it manually choosing\n"
-"                            a finalization reason."
+"When the RMA is receive, allow to finsish it manually choosing a "
+"finalization reason."
 msgstr ""
 
 #. module: rma
 #: model_terms:ir.ui.view,arch_db:rma.res_config_settings_view_form
 msgid ""
 "When the RMA products are received, send an automatic information email."
 msgstr ""
@@ -2145,21 +2120,14 @@
 #: model:res.groups,comment:rma.rma_group_manager
 msgid ""
 "the user will have an access to the RMA configuration as well as statistic "
 "reports."
 msgstr ""
 
 #. module: rma
-#: model:mail.template,report_name:rma.mail_template_rma_draft_notification
-#: model:mail.template,report_name:rma.mail_template_rma_notification
-#: model:mail.template,report_name:rma.mail_template_rma_receipt_notification
-msgid "{{(object.name or '')}}"
-msgstr ""
-
-#. module: rma
 #: model:mail.template,subject:rma.mail_template_rma_notification
 msgid "{{object.company_id.name}} RMA (Ref {{object.name or 'n/a' }})"
 msgstr ""
 
 #. module: rma
 #: model:mail.template,subject:rma.mail_template_rma_receipt_notification
 msgid ""
```

## odoo/addons/rma/models/rma.py

```diff
@@ -31,86 +31,57 @@
         )
         return [("id", "child_of", rma_loc.ids)]
 
     # General fields
     sent = fields.Boolean()
     name = fields.Char(
         index=True,
-        readonly=True,
-        states={"draft": [("readonly", False)]},
         copy=False,
         default=lambda self: _("New"),
     )
     origin = fields.Char(
         string="Source Document",
-        states={
-            "locked": [("readonly", True)],
-            "cancelled": [("readonly", True)],
-        },
         help="Reference of the document that generated this RMA.",
     )
     date = fields.Datetime(
         default=fields.Datetime.now,
         index=True,
         required=True,
-        readonly=True,
-        states={"draft": [("readonly", False)]},
-    )
-    deadline = fields.Date(
-        states={
-            "locked": [("readonly", True)],
-            "cancelled": [("readonly", True)],
-        },
     )
+    deadline = fields.Date()
     user_id = fields.Many2one(
         comodel_name="res.users",
         string="Responsible",
         index=True,
         tracking=True,
-        states={
-            "locked": [("readonly", True)],
-            "cancelled": [("readonly", True)],
-        },
     )
     team_id = fields.Many2one(
         comodel_name="rma.team",
         string="RMA team",
         index=True,
-        states={
-            "locked": [("readonly", True)],
-            "cancelled": [("readonly", True)],
-        },
         compute="_compute_team_id",
         store=True,
-        readonly=False,
     )
     tag_ids = fields.Many2many(comodel_name="rma.tag", string="Tags")
     finalization_id = fields.Many2one(
         string="Finalization Reason",
         comodel_name="rma.finalization",
         copy=False,
-        readonly=True,
         domain=(
             "['|', ('company_id', '=', False), ('company_id', '='," " company_id)]"
         ),
         tracking=True,
     )
     company_id = fields.Many2one(
         comodel_name="res.company",
         default=lambda self: self.env.company,
-        states={
-            "locked": [("readonly", True)],
-            "cancelled": [("readonly", True)],
-        },
     )
     partner_id = fields.Many2one(
         string="Customer",
         comodel_name="res.partner",
-        readonly=True,
-        states={"draft": [("readonly", False)]},
         index=True,
         tracking=True,
     )
     partner_shipping_id = fields.Many2one(
         string="Shipping Address",
         comodel_name="res.partner",
         help="Shipping address for current RMA.",
@@ -139,16 +110,14 @@
         domain=(
             "["
             "    ('state', '=', 'done'),"
             "    ('picking_type_id.code', '=', 'outgoing'),"
             "    ('partner_id', 'child_of', commercial_partner_id),"
             "]"
         ),
-        readonly=True,
-        states={"draft": [("readonly", False)]},
     )
     move_id = fields.Many2one(
         comodel_name="stock.move",
         string="Origin move",
         domain=(
             "["
             "    ('picking_id', '=', picking_id),"
@@ -183,26 +152,18 @@
         compute="_compute_product_uom",
         store=True,
         readonly=False,
     )
     procurement_group_id = fields.Many2one(
         comodel_name="procurement.group",
         string="Procurement group",
-        readonly=True,
-        states={
-            "draft": [("readonly", False)],
-            "confirmed": [("readonly", False)],
-            "received": [("readonly", False)],
-        },
     )
     priority = fields.Selection(
         selection=PROCUREMENT_PRIORITIES,
         default="1",
-        readonly=True,
-        states={"draft": [("readonly", False)]},
     )
     operation_id = fields.Many2one(
         comodel_name="rma.operation",
         string="Requested operation",
     )
     state = fields.Selection(
         [
@@ -218,20 +179,15 @@
             ("locked", "Locked"),
             ("cancelled", "Canceled"),
         ],
         default="draft",
         copy=False,
         tracking=True,
     )
-    description = fields.Html(
-        states={
-            "locked": [("readonly", True)],
-            "cancelled": [("readonly", True)],
-        },
-    )
+    description = fields.Html()
     # Reception fields
     location_id = fields.Many2one(
         comodel_name="stock.location",
         domain=_domain_location_id,
         compute="_compute_location_id",
         store=True,
         readonly=False,
@@ -245,45 +201,37 @@
         comodel_name="stock.move",
         string="Reception move",
         copy=False,
     )
     # Refund fields
     refund_id = fields.Many2one(
         comodel_name="account.move",
-        readonly=True,
         copy=False,
     )
     refund_line_id = fields.Many2one(
         comodel_name="account.move.line",
-        readonly=True,
         copy=False,
     )
     can_be_refunded = fields.Boolean(compute="_compute_can_be_refunded")
     # Delivery fields
     delivery_move_ids = fields.One2many(
         comodel_name="stock.move",
         inverse_name="rma_id",
         string="Delivery reservation",
-        readonly=True,
         copy=False,
     )
     delivery_picking_count = fields.Integer(
         string="Delivery count",
         compute="_compute_delivery_picking_count",
     )
     delivered_qty = fields.Float(
         digits="Product Unit of Measure",
         compute="_compute_delivered_qty",
         store=True,
     )
-    delivered_qty_done = fields.Float(
-        digits="Product Unit of Measure",
-        compute="_compute_delivered_qty",
-        compute_sudo=True,
-    )
     can_be_returned = fields.Boolean(
         compute="_compute_can_be_returned",
     )
     can_be_replaced = fields.Boolean(
         compute="_compute_can_be_replaced",
     )
     can_be_locked = fields.Boolean(
@@ -293,30 +241,24 @@
         compute="_compute_can_be_finished",
     )
     remaining_qty = fields.Float(
         string="Remaining delivered qty",
         digits="Product Unit of Measure",
         compute="_compute_remaining_qty",
     )
-    remaining_qty_to_done = fields.Float(
-        string="Remaining delivered qty to done",
-        digits="Product Unit of Measure",
-        compute="_compute_remaining_qty",
-    )
     uom_category_id = fields.Many2one(
         related="product_id.uom_id.category_id", string="Category UoM"
     )
     # Split fields
     can_be_split = fields.Boolean(
         compute="_compute_can_be_split",
     )
     origin_split_rma_id = fields.Many2one(
         comodel_name="rma",
         string="Extracted from",
-        readonly=True,
         copy=False,
     )
 
     def _compute_delivery_picking_count(self):
         # It is enough to count the moves to know how many pickings
         # there are because there will be a unique move linked to the
         # same picking and the same rma.
@@ -331,16 +273,15 @@
             record.delivery_picking_count = mapped_data.get(record.id, 0)
 
     @api.depends(
         "delivery_move_ids",
         "delivery_move_ids.state",
         "delivery_move_ids.scrapped",
         "delivery_move_ids.product_uom_qty",
-        "delivery_move_ids.reserved_availability",
-        "delivery_move_ids.quantity_done",
+        "delivery_move_ids.quantity",
         "delivery_move_ids.product_uom",
         "product_uom",
     )
     def _compute_delivered_qty(self):
         """Compute 'delivered_qty' and 'delivered_qty_done' fields.
 
         delivered_qty: represents the quantity delivery or to be
@@ -351,52 +292,43 @@
         delivered_qty_done: represents the quantity delivered and done.
         For each 'done' move in delivery_move_ids the quantity done is
         taken. This field is used to control when the RMA cam be set
         to 'delivered' state.
         """
         for record in self:
             delivered_qty = 0.0
-            delivered_qty_done = 0.0
             for move in record.delivery_move_ids.filtered(
                 lambda r: r.state != "cancel" and not r.scrapped
             ):
-                if move.quantity_done:
-                    quantity_done = move.product_uom._compute_quantity(
-                        move.quantity_done, record.product_uom
-                    )
-                    if move.state == "done":
-                        delivered_qty_done += quantity_done
-                    delivered_qty += quantity_done
-                elif move.reserved_availability:
-                    delivered_qty += move.product_uom._compute_quantity(
-                        move.reserved_availability, record.product_uom
+                if move.quantity:
+                    quantity = move.product_uom._compute_quantity(
+                        move.quantity, record.product_uom
                     )
+                    delivered_qty += quantity
                 elif move.product_uom_qty:
                     delivered_qty += move.product_uom._compute_quantity(
                         move.product_uom_qty, record.product_uom
                     )
             record.delivered_qty = delivered_qty
-            record.delivered_qty_done = delivered_qty_done
 
-    @api.depends("product_uom_qty", "delivered_qty", "delivered_qty_done")
+    @api.depends("product_uom_qty", "delivered_qty")
     def _compute_remaining_qty(self):
         """Compute 'remaining_qty' and 'remaining_qty_to_done' fields.
 
         remaining_qty: is used to set a default quantity of replacing
         or returning of product to the customer.
 
         remaining_qty_to_done: the aim of this field to control when the
         RMA cam be set to 'delivered' state. An RMA with
         remaining_qty_to_done <= 0 can be set to 'delivery'. It is used
         in stock.move._action_done method of stock.move and
         rma.extract_quantity.
         """
         for r in self:
             r.remaining_qty = r.product_uom_qty - r.delivered_qty
-            r.remaining_qty_to_done = r.product_uom_qty - r.delivered_qty_done
 
     @api.depends(
         "state",
     )
     def _compute_can_be_refunded(self):
         """Compute 'can_be_refunded'. This field controls the visibility
         of 'Refund' button in the rma form view and determinates if
@@ -439,15 +371,15 @@
     def _compute_can_be_finished(self):
         for rma in self:
             rma.can_be_finished = (
                 rma.state in {"received", "waiting_replacement", "waiting_return"}
                 and rma.remaining_qty > 0
             )
 
-    @api.depends("product_uom_qty", "state", "remaining_qty", "remaining_qty_to_done")
+    @api.depends("product_uom_qty", "state", "remaining_qty")
     def _compute_can_be_split(self):
         """Compute 'can_be_split'. This field controls the
         visibility of 'Split' button in the rma form view and
         determinates if an rma can be split.
         This field is used in:
         rma._ensure_can_be_split
         """
@@ -456,18 +388,18 @@
                 (r.state == "waiting_return" and r.remaining_qty > 0)
                 or (r.state == "waiting_replacement" and r.remaining_qty_to_done > 0)
             ):
                 r.can_be_split = True
             else:
                 r.can_be_split = False
 
-    @api.depends("remaining_qty_to_done", "state")
+    @api.depends("state")
     def _compute_can_be_locked(self):
         for r in self:
-            r.can_be_locked = r.remaining_qty_to_done > 0 and r.state in [
+            r.can_be_locked = r.remaining_qty > 0 and r.state in [
                 "received",
                 "waiting_return",
                 "waiting_replacement",
             ]
 
     @api.depends("location_id")
     def _compute_warehouse_id(self):
@@ -551,15 +483,15 @@
                 warehouse = self.env["stock.warehouse"].search(
                     [("company_id", "=", company.id)], limit=1
                 )
                 record.location_id = warehouse.rma_loc_id.id
 
     def _compute_access_url(self):
         for record in self:
-            record.access_url = "/my/rmas/{}".format(record.id)
+            record.access_url = f"/my/rmas/{record.id}"
 
     # Constrains methods (@api.constrains)
     @api.constrains(
         "state",
         "partner_id",
         "partner_shipping_id",
         "partner_invoice_id",
@@ -608,42 +540,49 @@
                 _("You cannot delete RMAs that are not in draft state")
             )
         return super().unlink()
 
     def _send_draft_email(self):
         """Send customer notifications they place the RMA from the portal"""
         for rma in self.filtered("company_id.send_rma_draft_confirmation"):
-            rma_template_id = rma.company_id.rma_mail_draft_confirmation_template_id.id
             rma.with_context(
                 force_send=True,
                 mark_rma_as_sent=True,
-                default_subtype_id=self.env.ref("rma.mt_rma_notification").id,
-            ).message_post_with_template(rma_template_id)
+            ).message_post_with_source(
+                rma.company_id.rma_mail_draft_confirmation_template_id.get_external_id()[
+                    rma.company_id.rma_mail_draft_confirmation_template_id.id
+                ],
+                subtype_xmlid="rma.mt_rma_notification",
+            )
 
     def _send_confirmation_email(self):
         """Auto send notifications"""
         for rma in self.filtered(lambda p: p.company_id.send_rma_confirmation):
-            rma_template_id = rma.company_id.rma_mail_confirmation_template_id.id
             rma.with_context(
                 force_send=True,
                 mark_rma_as_sent=True,
-                default_subtype_id=self.env.ref("rma.mt_rma_notification").id,
-            ).message_post_with_template(rma_template_id)
+            ).message_post_with_source(
+                rma.company_id.rma_mail_confirmation_template_id.get_external_id()[
+                    rma.company_id.rma_mail_confirmation_template_id.id
+                ],
+                subtype_xmlid="rma.mt_rma_notification",
+            )
 
     def _send_receipt_confirmation_email(self):
         """Send customer notifications when the products are received"""
         for rma in self.filtered("company_id.send_rma_receipt_confirmation"):
-            rma_template_id = (
-                rma.company_id.rma_mail_receipt_confirmation_template_id.id
-            )
             rma.with_context(
                 force_send=True,
                 mark_rma_as_sent=True,
-                default_subtype_id=self.env.ref("rma.mt_rma_notification").id,
-            ).message_post_with_template(rma_template_id)
+            ).message_post_with_source(
+                rma.company_id.rma_mail_receipt_confirmation_template_id.get_external_id()[
+                    rma.company_id.rma_mail_receipt_confirmation_template_id.id
+                ],
+                subtype_xmlid="rma.mt_rma_notification",
+            )
 
     # Action methods
     def action_rma_send(self):
         self.ensure_one()
         template = self.env.ref("rma.mail_template_rma_notification", False)
         template = self.company_id.rma_mail_confirmation_template_id or template
         form = self.env.ref("mail.email_compose_message_wizard_form", False)
@@ -678,14 +617,15 @@
         self.ensure_one()
         self._ensure_required_fields()
         if self.state == "draft":
             if self.picking_id:
                 reception_move = self._create_receptions_from_picking()
             else:
                 reception_move = self._create_receptions_from_product()
+            reception_move.picked = True
             self.write({"reception_move_id": reception_move.id, "state": "confirmed"})
             self._add_message_subscribe_partner()
             self._send_confirmation_email()
 
     def action_refund(self):
         """Invoked when 'Refund' button in rma form view is clicked
         and 'rma_refund_action_server' server action is run.
@@ -699,18 +639,18 @@
             origin = ", ".join(rmas.mapped("name"))
             refund_vals = rmas[0]._prepare_refund_vals(origin)
             for rma in rmas:
                 refund_vals["invoice_line_ids"].append(
                     (0, 0, rma._prepare_refund_line_vals())
                 )
             refund = self.env["account.move"].sudo().create(refund_vals)
-            refund.with_user(self.env.uid).message_post_with_view(
+            refund.with_user(self.env.uid).message_post_with_source(
                 "mail.message_origin_link",
-                values={"self": refund, "origin": rmas},
-                subtype_id=self.env.ref("mail.mt_note").id,
+                render_values={"self": refund, "origin": rmas},
+                subtype_id=self.env["ir.model.data"]._xmlid_to_res_id("mail.mt_note"),
             )
             for line in refund.invoice_line_ids:
                 line.rma_id.write(
                     {
                         "refund_line_id": line.id,
                         "refund_id": refund.id,
                         "state": "refunded",
@@ -1013,28 +953,28 @@
         # set_rma_picking_type is to override the copy() method of stock
         # picking and change the default picking type to rma picking type.
         picking_action = return_wizard.with_context(
             set_rma_picking_type=True
         ).create_returns()
         picking_id = picking_action["res_id"]
         picking = self.env["stock.picking"].browse(picking_id)
-        picking.origin = "{} ({})".format(self.name, picking.origin)
+        picking.origin = f"{self.name} ({picking.origin})"
         move = picking.move_ids
         move.priority = self.priority
         return move
 
     def _create_receptions_from_product(self):
         self.ensure_one()
         picking = self.env["stock.picking"].create(self._prepare_picking_vals())
         picking.action_confirm()
         picking.action_assign()
-        picking.message_post_with_view(
+        picking.message_post_with_source(
             "mail.message_origin_link",
-            values={"self": picking, "origin": self},
-            subtype_id=self.env.ref("mail.mt_note").id,
+            render_values={"self": picking, "origin": self},
+            subtype_id=self.env["ir.model.data"]._xmlid_to_res_id("mail.mt_note"),
         )
         return picking.move_ids
 
     def _prepare_picking_vals(self):
         return {
             "picking_type_id": self.warehouse_id.rma_in_type_id.id,
             "origin": self.name,
@@ -1048,47 +988,49 @@
                     {
                         "product_id": self.product_id.id,
                         # same text as origin move or product text in partner lang
                         "name": self.move_id.name
                         or self.product_id.with_context(
                             lang=self.partner_id.lang or "en_US"
                         ).display_name,
-                        "location_id": self.partner_shipping_id.property_stock_customer.id,
+                        "location_id": (
+                            self.partner_shipping_id.property_stock_customer.id
+                        ),
                         "location_dest_id": self.location_id.id,
                         "product_uom_qty": self.product_uom_qty,
                     },
                 )
             ],
         }
 
     # Extract business methods
     def extract_quantity(self, qty, uom):
         self.ensure_one()
         self._ensure_can_be_split()
         self._ensure_qty_to_extract(qty, uom)
         self.product_uom_qty -= uom._compute_quantity(qty, self.product_uom)
-        if self.remaining_qty_to_done <= 0:
+        if self.remaining_qty <= 0:
             if self.state == "waiting_return":
                 self.state = "returned"
             elif self.state == "waiting_replacement":
                 self.state = "replaced"
         extracted_rma = self.copy(
             {
                 "origin": self.name,
                 "product_uom_qty": qty,
                 "product_uom": uom.id,
                 "state": "received",
                 "reception_move_id": self.reception_move_id.id,
                 "origin_split_rma_id": self.id,
             }
         )
-        extracted_rma.message_post_with_view(
+        extracted_rma.message_post_with_source(
             "mail.message_origin_link",
-            values={"self": extracted_rma, "origin": self},
-            subtype_id=self.env.ref("mail.mt_note").id,
+            render_values={"self": extracted_rma, "origin": self},
+            subtype_id=self.env["ir.model.data"]._xmlid_to_res_id("mail.mt_note"),
         )
         self.message_post(
             body=_(
                 'Split: <a href="#" data-oe-model="rma" '
                 'data-oe-id="%(id)d">%(name)s</a> has been created.'
             )
             % ({"id": extracted_rma.id, "name": extracted_rma.name})
@@ -1169,18 +1111,18 @@
                         'Return: <a href="#" data-oe-model="stock.picking" '
                         'data-oe-id="%(id)d">%(name)s</a> has been created.'
                     )
                     % ({"id": picking.id, "name": picking.name})
                 )
             picking.action_confirm()
             picking.action_assign()
-            picking.message_post_with_view(
+            picking.message_post_with_source(
                 "mail.message_origin_link",
-                values={"self": picking, "origin": rmas},
-                subtype_id=self.env.ref("mail.mt_note").id,
+                render_values={"self": picking, "origin": rmas},
+                subtype_id=self.env["ir.model.data"]._xmlid_to_res_id("mail.mt_note"),
             )
         rmas_to_return.write({"state": "waiting_return"})
 
     def _prepare_returning_picking_vals(self, origin=None):
         self.ensure_one()
         return {
             "picking_type_id": self.warehouse_id.rma_out_type_id.id,
@@ -1228,15 +1170,15 @@
                     ' href="#" data-oe-model="stock.picking"'
                     ' data-oe-id="%(picking_id)d"> %(picking_name)s</a>) has'
                     " been created."
                 )
                 % (
                     {
                         "move_id": new_move.id,
-                        "move_name": new_move.name_get()[0][1],
+                        "move_name": new_move.display_name,
                         "picking_id": new_move.picking_id.id,
                         "picking_name": new_move.picking_id.name,
                     }
                 )
                 + "\n"
             )
         self.message_post(
@@ -1421,22 +1363,19 @@
     def update_replaced_state(self):
         """Invoked by:
         [stock.move]._action_done
         [stock.move].unlink
         [stock.move]._action_cancel
         """
         rma = self.filtered(
-            lambda r: (
-                r.state == "waiting_replacement"
-                and 0 >= r.remaining_qty_to_done == r.remaining_qty
-            )
+            lambda r: (r.state == "waiting_replacement" and 0 >= r.remaining_qty)
         )
         if rma:
             rma.write({"state": "replaced"})
 
     def update_returned_state(self):
         """Invoked by [stock.move]._action_done"""
         rma = self.filtered(
-            lambda r: (r.state == "waiting_return" and r.remaining_qty_to_done <= 0)
+            lambda r: (r.state == "waiting_return" and r.remaining_qty <= 0)
         )
         if rma:
             rma.write({"state": "returned"})
```

## odoo/addons/rma/models/stock_move.py

```diff
@@ -55,15 +55,15 @@
     def _action_done(self, cancel_backorder=False):
         """Avoids to validate stock.move with less quantity than the
         quantity in the linked receiver RMA. It also set the appropriated
         linked RMA to 'received' or 'delivered'.
         """
         for move in self.filtered(lambda r: r.state not in ("done", "cancel")):
             rma_receiver = move.sudo().rma_receiver_ids
-            if rma_receiver and move.quantity_done != rma_receiver.product_uom_qty:
+            if rma_receiver and move.quantity != rma_receiver.product_uom_qty:
                 raise ValidationError(
                     _(
                         "The quantity done for the product '%(id)s' must "
                         "be equal to its initial demand because the "
                         "stock move is linked to an RMA (%(name)s)."
                     )
                     % (
```

## odoo/addons/rma/static/description/index.html

```diff
@@ -362,24 +362,25 @@
 <div class="document" id="return-merchandise-authorization-management">
 <h1 class="title">Return Merchandise Authorization Management</h1>
 
 <!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 !! This file is generated by oca-gen-addon-readme !!
 !! changes will be overwritten.                   !!
 !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
-!! source digest: sha256:4883b701d44a55d02e769bdbf411c649efc42341792b63e965630e712a6406d9
+!! source digest: sha256:9ca167b75e0dcd82a66217ef64dd006910f4feda1f408dbdf09ef43e6555eb22
 !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
-<p><a class="reference external image-reference" href="https://odoo-community.org/page/development-status"><img alt="Production/Stable" src="https://img.shields.io/badge/maturity-Production%2FStable-green.png" /></a> <a class="reference external image-reference" href="http://www.gnu.org/licenses/agpl-3.0-standalone.html"><img alt="License: AGPL-3" src="https://img.shields.io/badge/licence-AGPL--3-blue.png" /></a> <a class="reference external image-reference" href="https://github.com/OCA/rma/tree/16.0/rma"><img alt="OCA/rma" src="https://img.shields.io/badge/github-OCA%2Frma-lightgray.png?logo=github" /></a> <a class="reference external image-reference" href="https://translation.odoo-community.org/projects/rma-16-0/rma-16-0-rma"><img alt="Translate me on Weblate" src="https://img.shields.io/badge/weblate-Translate%20me-F47D42.png" /></a> <a class="reference external image-reference" href="https://runboat.odoo-community.org/builds?repo=OCA/rma&amp;target_branch=16.0"><img alt="Try me on Runboat" src="https://img.shields.io/badge/runboat-Try%20me-875A7B.png" /></a></p>
-<p>This module allows you to manage <a class="reference external" href="https://en.wikipedia.org/wiki/Return_merchandise_authorization">Return Merchandise Authorization (RMA)</a>.
+<p><a class="reference external image-reference" href="https://odoo-community.org/page/development-status"><img alt="Production/Stable" src="https://img.shields.io/badge/maturity-Production%2FStable-green.png" /></a> <a class="reference external image-reference" href="http://www.gnu.org/licenses/agpl-3.0-standalone.html"><img alt="License: AGPL-3" src="https://img.shields.io/badge/licence-AGPL--3-blue.png" /></a> <a class="reference external image-reference" href="https://github.com/OCA/rma/tree/17.0/rma"><img alt="OCA/rma" src="https://img.shields.io/badge/github-OCA%2Frma-lightgray.png?logo=github" /></a> <a class="reference external image-reference" href="https://translation.odoo-community.org/projects/rma-17-0/rma-17-0-rma"><img alt="Translate me on Weblate" src="https://img.shields.io/badge/weblate-Translate%20me-F47D42.png" /></a> <a class="reference external image-reference" href="https://runboat.odoo-community.org/builds?repo=OCA/rma&amp;target_branch=17.0"><img alt="Try me on Runboat" src="https://img.shields.io/badge/runboat-Try%20me-875A7B.png" /></a></p>
+<p>This module allows you to manage <a class="reference external" href="https://en.wikipedia.org/wiki/Return_merchandise_authorization">Return Merchandise Authorization
+(RMA)</a>.
 RMA documents can be created from scratch, from a delivery order or from
 an incoming email. Product receptions and returning delivery operations
 of the RMA module are fully integrated with the Receipts and Deliveries
 Operations of Odoo inventory core module. It also allows you to generate
-refunds in the same way as Odoo generates it.
-Besides, you have full integration of the RMA documents in the customer portal.</p>
+refunds in the same way as Odoo generates it. Besides, you have full
+integration of the RMA documents in the customer portal.</p>
 <p><strong>Table of contents</strong></p>
 <div class="contents local topic" id="contents">
 <ul class="simple">
 <li><a class="reference internal" href="#configuration" id="toc-entry-1">Configuration</a></li>
 <li><a class="reference internal" href="#usage" id="toc-entry-2">Usage</a></li>
 <li><a class="reference internal" href="#known-issues-roadmap" id="toc-entry-3">Known issues / Roadmap</a></li>
 <li><a class="reference internal" href="#bug-tracker" id="toc-entry-4">Bug Tracker</a></li>
@@ -394,112 +395,116 @@
 <div class="section" id="configuration">
 <h1><a class="toc-backref" href="#toc-entry-1">Configuration</a></h1>
 <p>If you want RMAs to be created from incoming emails, you need to:</p>
 <ol class="arabic simple">
 <li>Go to <em>Settings &gt; General Settings</em>.</li>
 <li>Check ‘External Email Servers’ checkbox under <em>Discuss</em> section.</li>
 <li>Set an ‘alias domain’ and an incoming server.</li>
-<li>Go to <em>RMA &gt; Configuration &gt; RMA Team</em> and select a team or create a new
-one.</li>
+<li>Go to <em>RMA &gt; Configuration &gt; RMA Team</em> and select a team or create a
+new one.</li>
 <li>Go to ‘Email’ tab and set an ‘Email Alias’.</li>
 </ol>
 <p>If you want to manually finish RMAs, you need to:</p>
 <ol class="arabic simple">
 <li>Go to <em>Settings &gt; Inventory</em>.</li>
 <li>Set <em>Finish RMAs manually</em> checkbox on.</li>
 </ol>
-<p>By default, returns to customer are grouped by shipping address, warehouse and company.
-If you want to avoid this grouping you can:</p>
+<p>By default, returns to customer are grouped by shipping address,
+warehouse and company. If you want to avoid this grouping you can:</p>
 <ol class="arabic simple">
 <li>Go to <em>Settings &gt; Inventory</em>.</li>
-<li>Set <em>Group RMA returns by customer address and warehouse</em> checkbox off.</li>
+<li>Set <em>Group RMA returns by customer address and warehouse</em> checkbox
+off.</li>
 </ol>
 <p>The users will still be able to group those pickings from the wizard.</p>
 </div>
 <div class="section" id="usage">
 <h1><a class="toc-backref" href="#toc-entry-2">Usage</a></h1>
 <p>To use this module, you need to:</p>
 <ol class="arabic simple">
 <li>Go to <em>RMA &gt; Orders</em> and create a new RMA.</li>
-<li>Select a partner, an invoice address, select a product
-(or select a picking and a move instead), write a quantity, fill the rest
-of the form and click on ‘confirm’ button in the status bar.</li>
-<li>You will see an smart button labeled ‘Receipt’. Click on that button to see
-the reception operation form.</li>
-<li>If everything is right, validate the operation and go back to the RMA to
-see it in a ‘received’ state.</li>
-<li>Now you are able to generate a refund, generate a delivery order to return
-to the customer the same product or another product as a replacement, split
-the RMA by extracting a part of the remaining quantity to another RMA,
-preview the RMA in the website. All of these operations can be done by
-clicking on the buttons in the status bar.<ul>
-<li>If you click on ‘Refund’ button, a refund will be created, and it will be
-accessible via the smart button labeled Refund. The RMA will be set
-automatically to ‘Refunded’ state when the refund is validated.</li>
+<li>Select a partner, an invoice address, select a product (or select a
+picking and a move instead), write a quantity, fill the rest of the
+form and click on ‘confirm’ button in the status bar.</li>
+<li>You will see an smart button labeled ‘Receipt’. Click on that button
+to see the reception operation form.</li>
+<li>If everything is right, validate the operation and go back to the RMA
+to see it in a ‘received’ state.</li>
+<li>Now you are able to generate a refund, generate a delivery order to
+return to the customer the same product or another product as a
+replacement, split the RMA by extracting a part of the remaining
+quantity to another RMA, preview the RMA in the website. All of these
+operations can be done by clicking on the buttons in the status bar.<ul>
+<li>If you click on ‘To Refund’ button, a refund will be created, and
+it will be accessible via the smart button labeled Refund. The RMA
+will be set automatically to ‘Refunded’ state when the refund is
+validated.</li>
 <li>If you click on ‘Replace’ or ‘Return to customer’ button instead,
-a popup wizard will guide you to create a Delivery order to the client
-and this order will be accessible via the smart button labeled Delivery.
-The RMA will be set automatically to ‘Replaced’ or ‘Returned’ state when
-the RMA quantity is equal or lower than the quantity in done delivery
-orders linked to it.</li>
+a popup wizard will guide you to create a Delivery order to the
+client and this order will be accessible via the smart button
+labeled Delivery. The RMA will be set automatically to ‘Replaced’
+or ‘Returned’ state when the RMA quantity is equal or lower than
+the quantity in done delivery orders linked to it.</li>
 </ul>
 </li>
-<li>You can also finish the RMA without further ado. To do so click on the <em>Finish</em>
-button. A wizard will ask you for the reason from a selection of preconfigured ones.
-Be sure to configure them in advance on <em>RMA &gt; Configuration &gt; Finalization Reasons</em>.
-Once the RMA is finished, it will be set to that state and the reason will be
+<li>You can also finish the RMA without further ado. To do so click on
+the <em>Finish</em> button. A wizard will ask you for the reason from a
+selection of preconfigured ones. Be sure to configure them in advance
+on <em>RMA &gt; Configuration &gt; Finalization Reasons</em>. Once the RMA is
+finished, it will be set to that state and the reason will be
 registered.</li>
 </ol>
 <p>An RMA can also be created from a return of a delivery order:</p>
 <ol class="arabic simple">
-<li>Select a delivery order and click on ‘Return’ button to create a return.</li>
+<li>Select a delivery order and click on ‘Return’ button to create a
+return.</li>
 <li>Check “Create RMAs” checkbox in the returning wizard, select the RMA
 stock location and click on ‘Return’ button.</li>
-<li>An RMA will be created for each product returned in the previous step.
-Every RMA will be in confirmed state and they will
-be linked to the returning operation generated previously.</li>
+<li>An RMA will be created for each product returned in the previous
+step. Every RMA will be in confirmed state and they will be linked to
+the returning operation generated previously.</li>
 </ol>
 <p>There are Optional RMA Teams that can be used for:</p>
 <blockquote>
 <ul class="simple">
 <li>Organize RMAs in sections.</li>
 <li>Subscribe users to notifications.</li>
-<li>Create RMAs from incoming mail to special aliases (See configuration
-section).</li>
+<li>Create RMAs from incoming mail to special aliases (See
+configuration section).</li>
 </ul>
 </blockquote>
 <p>To create an RMA Team (RMA Responsible user level required):</p>
 <blockquote>
 <ol class="arabic simple">
 <li>Go to <em>RMA &gt; Configuration &gt; RMA Teams</em></li>
 <li>Create a new team and assign a name, a responsible and members.</li>
 <li>Subscribe users to notifications, that can be of these subtypes:<ul>
 <li>RMA draft. When a new RMA is created.</li>
 <li>Notes, Debates, Activities. As in standard Odoo.</li>
 </ul>
 </li>
-<li>In the list view, use the cross handle to sort RMA Teams. The top team
-will be the default one if no team is set.</li>
+<li>In the list view, use the cross handle to sort RMA Teams. The top
+team will be the default one if no team is set.</li>
 </ol>
 </blockquote>
 </div>
 <div class="section" id="known-issues-roadmap">
 <h1><a class="toc-backref" href="#toc-entry-3">Known issues / Roadmap</a></h1>
 <ul class="simple">
 <li>As soon as the picking is selected, the user should select the move,
-but perhaps stock.move _rec_name could be improved to better show what
-the product of that move is.</li>
+but perhaps stock.move _rec_name could be improved to better show
+what the product of that move is.</li>
 </ul>
 </div>
 <div class="section" id="bug-tracker">
 <h1><a class="toc-backref" href="#toc-entry-4">Bug Tracker</a></h1>
 <p>Bugs are tracked on <a class="reference external" href="https://github.com/OCA/rma/issues">GitHub Issues</a>.
 In case of trouble, please check there if your issue has already been reported.
 If you spotted it first, help us to smash it by providing a detailed and welcomed
-<a class="reference external" href="https://github.com/OCA/rma/issues/new?body=module:%20rma%0Aversion:%2016.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**">feedback</a>.</p>
+<a class="reference external" href="https://github.com/OCA/rma/issues/new?body=module:%20rma%0Aversion:%2017.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**">feedback</a>.</p>
 <p>Do not contact contributors directly about support or help with technical issues.</p>
 </div>
 <div class="section" id="credits">
 <h1><a class="toc-backref" href="#toc-entry-5">Credits</a></h1>
 <div class="section" id="authors">
 <h2><a class="toc-backref" href="#toc-entry-6">Authors</a></h2>
 <ul class="simple">
@@ -514,25 +519,29 @@
 <li>Pedro M. Baeza</li>
 <li>David Vidal</li>
 <li>Víctor Martínez</li>
 </ul>
 </li>
 <li>Chafique Delli &lt;<a class="reference external" href="mailto:chafique.delli&#64;akretion.com">chafique.delli&#64;akretion.com</a>&gt;</li>
 <li>Giovanni Serra - Ooops &lt;<a class="reference external" href="mailto:giovanni&#64;ooops404.com">giovanni&#64;ooops404.com</a>&gt;</li>
+<li><a class="reference external" href="https://www.apsl.tech">APSL-Nagarro</a>:<ul>
+<li>Antoni Marroig &lt;<a class="reference external" href="mailto:amarroig&#64;apsl.net">amarroig&#64;apsl.net</a>&gt;</li>
+</ul>
+</li>
 </ul>
 </div>
 <div class="section" id="maintainers">
 <h2><a class="toc-backref" href="#toc-entry-8">Maintainers</a></h2>
 <p>This module is maintained by the OCA.</p>
 <a class="reference external image-reference" href="https://odoo-community.org"><img alt="Odoo Community Association" src="https://odoo-community.org/logo.png" /></a>
 <p>OCA, or the Odoo Community Association, is a nonprofit organization whose
 mission is to support the collaborative development of Odoo features and
 promote its widespread use.</p>
 <p>Current <a class="reference external" href="https://odoo-community.org/page/maintainer-role">maintainers</a>:</p>
 <p><a class="reference external image-reference" href="https://github.com/pedrobaeza"><img alt="pedrobaeza" src="https://github.com/pedrobaeza.png?size=40px" /></a> <a class="reference external image-reference" href="https://github.com/chienandalu"><img alt="chienandalu" src="https://github.com/chienandalu.png?size=40px" /></a></p>
-<p>This module is part of the <a class="reference external" href="https://github.com/OCA/rma/tree/16.0/rma">OCA/rma</a> project on GitHub.</p>
+<p>This module is part of the <a class="reference external" href="https://github.com/OCA/rma/tree/17.0/rma">OCA/rma</a> project on GitHub.</p>
 <p>You are welcome to contribute. To learn how please visit <a class="reference external" href="https://odoo-community.org/page/Contribute">https://odoo-community.org/page/Contribute</a>.</p>
 </div>
 </div>
 </div>
 </body>
 </html>
```

### html2text {}

```diff
@@ -44,16 +44,16 @@
    4. If everything is right, validate the operation and go back to the RMA to
       see it in a ‘received’ state.
    5. Now you are able to generate a refund, generate a delivery order to
       return to the customer the same product or another product as a
       replacement, split the RMA by extracting a part of the remaining quantity
       to another RMA, preview the RMA in the website. All of these operations
       can be done by clicking on the buttons in the status bar.
-          o If you click on ‘Refund’ button, a refund will be created, and it
-            will be accessible via the smart button labeled Refund. The RMA
+          o If you click on ‘To Refund’ button, a refund will be created, and
+            it will be accessible via the smart button labeled Refund. The RMA
             will be set automatically to ‘Refunded’ state when the refund is
             validated.
           o If you click on ‘Replace’ or ‘Return to customer’ button instead, a
             popup wizard will guide you to create a Delivery order to the
             client and this order will be accessible via the smart button
             labeled Delivery. The RMA will be set automatically to ‘Replaced’
             or ‘Returned’ state when the RMA quantity is equal or lower than
@@ -101,14 +101,16 @@
     * _T_e_c_n_a_t_i_v_a:
           o Ernesto Tejeda
           o Pedro M. Baeza
           o David Vidal
           o Víctor Martínez
     * Chafique Delli <_c_h_a_f_i_q_u_e_._d_e_l_l_i_@_a_k_r_e_t_i_o_n_._c_o_m>
     * Giovanni Serra - Ooops <_g_i_o_v_a_n_n_i_@_o_o_o_p_s_4_0_4_._c_o_m>
+    * _A_P_S_L_-_N_a_g_a_r_r_o:
+          o Antoni Marroig <_a_m_a_r_r_o_i_g_@_a_p_s_l_._n_e_t>
 ********** _MM_aa_ii_nn_tt_aa_ii_nn_ee_rr_ss **********
 This module is maintained by the OCA.
 _[_O_d_o_o_ _C_o_m_m_u_n_i_t_y_ _A_s_s_o_c_i_a_t_i_o_n_]
 OCA, or the Odoo Community Association, is a nonprofit organization whose
 mission is to support the collaborative development of Odoo features and
 promote its widespread use.
 Current _m_a_i_n_t_a_i_n_e_r_s:
```

## odoo/addons/rma/tests/test_rma.py

```diff
@@ -81,37 +81,39 @@
             vals["partner_id"] = partner.id
         if product:
             vals["product_id"] = product.id
         if qty:
             vals["product_uom_qty"] = qty
         if location:
             vals["location_id"] = location.id
+
+        vals["user_id"] = self.env.user.id
         return self.env["rma"].create(vals)
 
     def _create_confirm_receive(
         self, partner=None, product=None, qty=None, location=None
     ):
         rma = self._create_rma(partner, product, qty, location)
         rma.action_confirm()
-        rma.reception_move_id.quantity_done = rma.product_uom_qty
+        rma.reception_move_id.quantity = rma.product_uom_qty
         rma.reception_move_id.picking_id._action_done()
         return rma
 
     def _create_delivery(self):
         picking_type = self.env["stock.picking.type"].search(
             [
                 ("code", "=", "outgoing"),
                 "|",
                 ("warehouse_id.company_id", "=", self.company.id),
                 ("warehouse_id", "=", False),
             ],
             limit=1,
         )
         picking_form = Form(
-            recordp=self.env["stock.picking"].with_context(
+            record=self.env["stock.picking"].with_context(
                 default_picking_type_id=picking_type.id
             ),
             view="stock.view_picking_form",
         )
         picking_form.partner_id = self.partner
         with picking_form.move_ids_without_package.new() as move:
             move.product_id = self.product
@@ -120,15 +122,15 @@
             move.product_id = self.product_product.create(
                 {"name": "Product 2 test", "type": "product"}
             )
             move.product_uom_qty = 20
         picking = picking_form.save()
         picking.action_confirm()
         for move in picking.move_ids:
-            move.quantity_done = move.product_uom_qty
+            move.quantity = move.product_uom_qty
         picking.button_validate()
         return picking
 
 
 class TestRmaCase(TestRma):
     def test_computed(self):
         # If partner changes, the invoice address is set
@@ -153,15 +155,15 @@
                 "|",
                 ("warehouse_id.company_id", "=", self.company.id),
                 ("warehouse_id", "=", False),
             ],
             limit=1,
         )
         picking_form = Form(
-            recordp=self.env["stock.picking"].with_context(
+            record=self.env["stock.picking"].with_context(
                 default_picking_type_id=outgoing_picking_type.id
             ),
             view="stock.view_picking_form",
         )
         picking_form.partner_id = self.partner
         with picking_form.move_ids_without_package.new() as move:
             move.product_id = product_2
@@ -199,21 +201,21 @@
         rma = self._create_rma(self.partner, self.product, 10, self.rma_loc)
         rma.action_confirm()
         self.assertEqual(rma.reception_move_id.picking_id.state, "assigned")
         self.assertEqual(rma.reception_move_id.product_id, rma.product_id)
         self.assertEqual(rma.reception_move_id.product_uom_qty, 10)
         self.assertEqual(rma.reception_move_id.product_uom, rma.product_uom)
         self.assertEqual(rma.state, "confirmed")
-        rma.reception_move_id.quantity_done = 9
+        rma.reception_move_id.quantity = 9
         with self.assertRaises(ValidationError):
             rma.reception_move_id.picking_id._action_done()
-        rma.reception_move_id.quantity_done = 10
+        rma.reception_move_id.quantity = 10
         rma.reception_move_id.picking_id._action_done()
         self.assertEqual(rma.reception_move_id.picking_id.state, "done")
-        self.assertEqual(rma.reception_move_id.quantity_done, 10)
+        self.assertEqual(rma.reception_move_id.quantity, 10)
         self.assertEqual(rma.state, "received")
 
     def test_cancel(self):
         # cancel a draft RMA
         rma = self._create_rma(self.partner, self.product)
         rma.action_cancel()
         self.assertEqual(rma.state, "cancelled")
@@ -382,16 +384,14 @@
         self.assertTrue(rma.delivery_move_ids.picking_id.state, "waiting")
         self.assertEqual(rma.state, "waiting_replacement")
         self.assertFalse(rma.can_be_refunded)
         self.assertFalse(rma.can_be_returned)
         self.assertTrue(rma.can_be_replaced)
         self.assertEqual(rma.delivered_qty, 2)
         self.assertEqual(rma.remaining_qty, 8)
-        self.assertEqual(rma.delivered_qty_done, 0)
-        self.assertEqual(rma.remaining_qty_to_done, 10)
         first_move = rma.delivery_move_ids
         picking = first_move.picking_id
         # Replace again with another product with the remaining quantity
         product_3 = self.product_product.create(
             {"name": "Product 3 test", "type": "product"}
         )
         delivery_form = Form(
@@ -409,26 +409,21 @@
         self.assertEqual(first_move.product_id, product_2)
         self.assertEqual(first_move.product_uom_qty, 2)
         self.assertEqual(second_move.product_id, product_3)
         self.assertEqual(second_move.product_uom_qty, 8)
         self.assertTrue(picking.state, "waiting")
         self.assertEqual(rma.delivered_qty, 10)
         self.assertEqual(rma.remaining_qty, 0)
-        self.assertEqual(rma.delivered_qty_done, 0)
-        self.assertEqual(rma.remaining_qty_to_done, 10)
         # remaining_qty is 0 but rma is not set to 'replaced' until
-        # remaining_qty_to_done is less than or equal to 0
-        first_move.quantity_done = 2
-        second_move.quantity_done = 8
+        first_move.quantity = 2
+        second_move.quantity = 8
         picking.button_validate()
         self.assertEqual(picking.state, "done")
         self.assertEqual(rma.delivered_qty, 10)
         self.assertEqual(rma.remaining_qty, 0)
-        self.assertEqual(rma.delivered_qty_done, 10)
-        self.assertEqual(rma.remaining_qty_to_done, 0)
         # The RMA is now in 'replaced' state
         self.assertEqual(rma.state, "replaced")
         self.assertFalse(rma.can_be_refunded)
         self.assertFalse(rma.can_be_returned)
         # Despite being in 'replaced' state,
         # RMAs can still perform replacements.
         self.assertTrue(rma.can_be_replaced)
@@ -453,51 +448,42 @@
         self.assertTrue(picking.state, "waiting")
         self.assertEqual(rma.state, "waiting_return")
         self.assertFalse(rma.can_be_refunded)
         self.assertFalse(rma.can_be_replaced)
         self.assertTrue(rma.can_be_returned)
         self.assertEqual(rma.delivered_qty, 2)
         self.assertEqual(rma.remaining_qty, 8)
-        self.assertEqual(rma.delivered_qty_done, 0)
-        self.assertEqual(rma.remaining_qty_to_done, 10)
         first_move = rma.delivery_move_ids
         picking = first_move.picking_id
         # Validate the picking
-        first_move.quantity_done = 2
+        first_move.quantity = 2
         picking.button_validate()
         self.assertEqual(picking.state, "done")
         self.assertEqual(rma.delivered_qty, 2)
         self.assertEqual(rma.remaining_qty, 8)
-        self.assertEqual(rma.delivered_qty_done, 2)
-        self.assertEqual(rma.remaining_qty_to_done, 8)
         # Return the remaining quantity to the customer
         delivery_form = Form(
             self.env["rma.delivery.wizard"].with_context(
                 active_ids=rma.ids,
                 rma_delivery_type="return",
             )
         )
         delivery_wizard = delivery_form.save()
         delivery_wizard.action_deliver()
         second_move = rma.delivery_move_ids - first_move
-        second_move.quantity_done = 8
+        second_move.quantity = 8
         self.assertEqual(rma.delivered_qty, 10)
         self.assertEqual(rma.remaining_qty, 0)
-        self.assertEqual(rma.delivered_qty_done, 2)
-        self.assertEqual(rma.remaining_qty_to_done, 8)
         self.assertEqual(rma.state, "waiting_return")
         # remaining_qty is 0 but rma is not set to 'returned' until
-        # remaining_qty_to_done is less than or equal to 0
         picking_2 = second_move.picking_id
         picking_2.button_validate()
         self.assertEqual(picking_2.state, "done")
         self.assertEqual(rma.delivered_qty, 10)
         self.assertEqual(rma.remaining_qty, 0)
-        self.assertEqual(rma.delivered_qty_done, 10)
-        self.assertEqual(rma.remaining_qty_to_done, 0)
         # The RMA is now in 'returned' state
         self.assertEqual(rma.state, "returned")
         self.assertFalse(rma.can_be_refunded)
         self.assertFalse(rma.can_be_returned)
         self.assertFalse(rma.can_be_replaced)
 
     def test_finish_rma(self):
@@ -575,15 +561,15 @@
         self.assertEqual(pick_2.move_ids.rma_id, rma_4)
         self.assertEqual(rma_4.delivery_move_ids, pick_2.move_ids)
         # Assert product and quantities are propagated correctly
         for rma in all_rmas:
             self.assertEqual(rma.product_id, rma.delivery_move_ids.product_id)
             self.assertEqual(rma.product_uom_qty, rma.delivery_move_ids.product_uom_qty)
             self.assertEqual(rma.product_uom, rma.delivery_move_ids.product_uom)
-            rma.delivery_move_ids.quantity_done = rma.product_uom_qty
+            rma.delivery_move_ids.quantity = rma.product_uom_qty
         pick_1.button_validate()
         pick_2.button_validate()
         self.assertEqual(all_rmas.mapped("state"), ["returned"] * 4)
 
     def test_mass_return_to_customer_ungrouped(self):
         """We can choose to avoid the customer returns grouping"""
         self.env.company.rma_return_grouping = False
@@ -639,42 +625,42 @@
         # Each reception move is linked one of the generated RMAs
         reception = self.env["stock.picking"].browse(picking_action["res_id"])
         reception_moves = reception.move_ids
         self.assertTrue(reception_moves[0].rma_receiver_ids)
         self.assertTrue(reception_moves[1].rma_receiver_ids)
         self.assertEqual(reception_moves.mapped("rma_receiver_ids"), rmas)
         # Validate the reception picking to set rmas to 'received' state
-        reception_moves[0].quantity_done = reception_moves[0].product_uom_qty
-        reception_moves[1].quantity_done = reception_moves[1].product_uom_qty
+        reception_moves[0].quantity = reception_moves[0].product_uom_qty
+        reception_moves[1].quantity = reception_moves[1].product_uom_qty
         reception.button_validate()
         self.assertEqual(rmas.mapped("state"), ["received"] * 2)
 
     def test_split(self):
         origin_delivery = self._create_delivery()
         rma_form = Form(self.env["rma"])
         rma_form.partner_id = self.partner
         rma_form.picking_id = origin_delivery
         rma_form.move_id = origin_delivery.move_ids.filtered(
             lambda r: r.product_id == self.product
         )
         rma = rma_form.save()
         rma.action_confirm()
-        rma.reception_move_id.quantity_done = 10
+        rma.reception_move_id.quantity = 10
         rma.reception_move_id.picking_id._action_done()
         # Return quantity 4 of the same product to the customer
         delivery_form = Form(
             self.env["rma.delivery.wizard"].with_context(
                 active_ids=rma.ids,
                 rma_delivery_type="return",
             )
         )
         delivery_form.product_uom_qty = 4
         delivery_wizard = delivery_form.save()
         delivery_wizard.action_deliver()
-        rma.delivery_move_ids.quantity_done = 4
+        rma.delivery_move_ids.quantity = 4
         rma.delivery_move_ids.picking_id.button_validate()
         self.assertEqual(rma.state, "waiting_return")
         # Extract the remaining quantity to another RMA
         self.assertTrue(rma.can_be_split)
         split_wizard = (
             self.env["rma.split.wizard"]
             .with_context(
@@ -686,25 +672,23 @@
         action = split_wizard.action_split()
         # Check rma is set to 'returned' after split. Check new_rma values
         self.assertEqual(rma.state, "returned")
         new_rma = self.env["rma"].browse(action["res_id"])
         self.assertEqual(new_rma.origin_split_rma_id, rma)
         self.assertEqual(new_rma.delivered_qty, 0)
         self.assertEqual(new_rma.remaining_qty, 6)
-        self.assertEqual(new_rma.delivered_qty_done, 0)
-        self.assertEqual(new_rma.remaining_qty_to_done, 6)
         self.assertEqual(new_rma.state, "received")
         self.assertTrue(new_rma.can_be_refunded)
         self.assertTrue(new_rma.can_be_returned)
         self.assertTrue(new_rma.can_be_replaced)
         self.assertEqual(new_rma.move_id, rma.move_id)
         self.assertEqual(new_rma.reception_move_id, rma.reception_move_id)
         self.assertEqual(new_rma.product_uom_qty + rma.product_uom_qty, 10)
-        self.assertEqual(new_rma.move_id.quantity_done, 10)
-        self.assertEqual(new_rma.reception_move_id.quantity_done, 10)
+        self.assertEqual(new_rma.move_id.quantity, 10)
+        self.assertEqual(new_rma.reception_move_id.quantity, 10)
 
     def test_rma_to_receive_on_delete_invoice(self):
         rma = self._create_confirm_receive(self.partner, self.product, 10, self.rma_loc)
         rma.action_refund()
         self.assertEqual(rma.state, "refunded")
         rma.refund_id.unlink()
         self.assertFalse(rma.refund_id)
@@ -759,15 +743,15 @@
         self.assertTrue(rma.name in mail_confirm.subject)
         self.assertTrue(rma.name in mail_confirm.body)
         self.assertEqual(
             self.env.ref("rma.mt_rma_notification"), mail_confirm.subtype_id
         )
         # Now we'll confirm the incoming goods picking and the automatic
         # reception notification should be sent
-        rma.reception_move_id.quantity_done = rma.product_uom_qty
+        rma.reception_move_id.quantity = rma.product_uom_qty
         rma.reception_move_id.picking_id.button_validate()
         mail_receipt = (
             self.env["mail.message"].search([("partner_ids", "in", self.partner.ids)])
             - mail_draft
             - mail_confirm
         )
         self.assertTrue(rma.name in mail_receipt.subject)
```

## odoo/addons/rma/views/res_config_settings_views.xml

### odoo/addons/rma/views/res_config_settings_views.xml

```diff
@@ -1,73 +1,38 @@
 <?xml version="1.0" encoding="utf-8"?>
 <odoo>
   <record id="res_config_settings_view_form" model="ir.ui.view">
     <field name="model">res.config.settings</field>
     <field name="inherit_id" ref="stock.res_config_settings_view_form"/>
     <field name="arch" type="xml">
-      <xpath expr="//div[@data-key='stock']/div[hasclass('o_settings_container')]" position="inside">
-        <div class="col-12 col-lg-6 o_setting_box" title="Finish RMAs manually">
-          <div class="o_setting_left_pane">
-            <field name="group_rma_manual_finalization"/>
+      <xpath expr="//block[@name='operations_setting_container']" position="inside">
+        <setting title="Finish RMAs manually" help=" When the RMA is receive, allow to finsish it manually choosing a finalization reason.">
+          <field name="group_rma_manual_finalization"/>
+        </setting>
+        <setting title="Values set here are company-specific." help="Group RMA returns by customer and warehouse.">
+          <field name="rma_return_grouping"/>
+        </setting>
+        <setting title="Send automatic RMA info to customer" help="When the RMA is confirmed, send an automatic information email.">
+          <field name="send_rma_confirmation"/>
+          <div class="row mt16" invisible="not send_rma_confirmation">
+            <label for="rma_mail_confirmation_template_id" string="Email Template" class="col-lg-4 o_light_label"/>
+            <field name="rma_mail_confirmation_template_id" class="oe_inline" required="send_rma_confirmation" context="{'default_model': 'rma'}"/>
+          </div>
+        </setting>
+        <setting title="Send automatic RMA products reception notification to customer" help="When the RMA products are received, send an automatic information email.">
+          <field name="send_rma_receipt_confirmation"/>
+          <div class="row mt16" invisible="not send_rma_receipt_confirmation">
+            <label for="rma_mail_receipt_confirmation_template_id" string="Email Template" class="col-lg-4 o_light_label"/>
+            <field name="rma_mail_receipt_confirmation_template_id" class="oe_inline" required="send_rma_receipt_confirmation" context="{'default_model': 'rma'}"/>
+          </div>
+        </setting>
+        <setting title="Send automatic notification when the customer places an RMA" help="When customers themselves place an RMA from the portal, send an automatic notification acknowleging it.">
+          <field name="send_rma_draft_confirmation"/>
+          <div class="row mt16" invisible="not send_rma_draft_confirmation">
+            <label for="rma_mail_draft_confirmation_template_id" string="Email Template" class="col-lg-4 o_light_label"/>
+            <field name="rma_mail_draft_confirmation_template_id" class="oe_inline" required="send_rma_draft_confirmation" context="{'default_model': 'rma'}"/>
           </div>
-          <div class="o_setting_right_pane">
-            <label for="group_rma_manual_finalization" string="RMA Manual Finalization"/>
-            <div class="text-muted">When the RMA is receive, allow to finsish it manually choosing
-                            a finalization reason.</div>
-          </div>
-        </div>
-        <div class="col-12 col-lg-6 o_setting_box">
-          <div class="o_setting_left_pane">
-            <field name="rma_return_grouping"/>
-          </div>
-          <div class="o_setting_right_pane">
-            <label for="rma_return_grouping"/>
-            <span class="fa fa-lg fa-building-o" title="Values set here are company-specific." groups="base.group_multi_company"/>
-            <div class="text-muted">Group RMA returns by customer and warehouse.</div>
-          </div>
-        </div>
-        <div class="col-12 col-lg-6 o_setting_box" title="Send automatic RMA info to customer">
-          <div class="o_setting_left_pane">
-            <field name="send_rma_confirmation"/>
-          </div>
-          <div class="o_setting_right_pane">
-            <label for="send_rma_confirmation" string="RMA Confirmation Email"/>
-            <span class="fa fa-lg fa-building-o" title="Values set here are company-specific." groups="base.group_multi_company"/>
-            <div class="text-muted">When the RMA is confirmed, send an automatic information email.</div>
-            <div class="row mt16" attrs="{'invisible': [('send_rma_confirmation', '=', False)]}">
-              <label for="rma_mail_confirmation_template_id" string="Email Template" class="col-lg-4 o_light_label"/>
-              <field name="rma_mail_confirmation_template_id" class="oe_inline" attrs="{'required': [('send_rma_confirmation', '=', True)]}" context="{'default_model': 'rma'}"/>
-            </div>
-          </div>
-        </div>
-        <div class="col-12 col-lg-6 o_setting_box" title="Send automatic RMA products reception notification to customer">
-          <div class="o_setting_left_pane">
-            <field name="send_rma_receipt_confirmation"/>
-          </div>
-          <div class="o_setting_right_pane">
-            <label for="send_rma_receipt_confirmation" string="RMA Receipt Confirmation Email"/>
-            <span class="fa fa-lg fa-building-o" title="Values set here are company-specific." groups="base.group_multi_company"/>
-            <div class="text-muted">When the RMA products are received, send an automatic information email.</div>
-            <div class="row mt16" attrs="{'invisible': [('send_rma_receipt_confirmation', '=', False)]}">
-              <label for="rma_mail_receipt_confirmation_template_id" string="Email Template" class="col-lg-4 o_light_label"/>
-              <field name="rma_mail_receipt_confirmation_template_id" class="oe_inline" attrs="{'required': [('send_rma_receipt_confirmation', '=', True)]}" context="{'default_model': 'rma'}"/>
-            </div>
-          </div>
-        </div>
-        <div class="col-12 col-lg-6 o_setting_box" title="Send automatic notification when the customer places an RMA">
-          <div class="o_setting_left_pane">
-            <field name="send_rma_draft_confirmation"/>
-          </div>
-          <div class="o_setting_right_pane">
-            <label for="send_rma_draft_confirmation" string="RMA draft notification Email"/>
-            <span class="fa fa-lg fa-building-o" title="Values set here are company-specific." groups="base.group_multi_company"/>
-            <div class="text-muted">When customers themselves place an RMA from the portal, send an automatic notification acknowleging it.</div>
-            <div class="row mt16" attrs="{'invisible': [('send_rma_draft_confirmation', '=', False)]}">
-              <label for="rma_mail_draft_confirmation_template_id" string="Email Template" class="col-lg-4 o_light_label"/>
-              <field name="rma_mail_draft_confirmation_template_id" class="oe_inline" attrs="{'required': [('send_rma_draft_confirmation', '=', True)]}" context="{'default_model': 'rma'}"/>
-            </div>
-          </div>
-        </div>
+        </setting>
       </xpath>
     </field>
   </record>
 </odoo>
```

## odoo/addons/rma/views/res_partner_views.xml

### odoo/addons/rma/views/res_partner_views.xml

```diff
@@ -5,14 +5,14 @@
 <odoo>
   <record id="view_partner_form" model="ir.ui.view">
     <field name="name">res.partner.form</field>
     <field name="model">res.partner</field>
     <field name="inherit_id" ref="base.view_partner_form"/>
     <field name="arch" type="xml">
       <div name="button_box">
-        <button name="action_view_rma" type="object" class="oe_stat_button" icon="fa-reply" attrs="{'invisible': [('rma_count', '=', 0)]}" groups="rma.rma_group_user_own">
+        <button name="action_view_rma" type="object" class="oe_stat_button" icon="fa-reply" invisible="rma_count == 0" groups="rma.rma_group_user_own">
           <field name="rma_count" widget="statinfo" string="RMA"/>
         </button>
       </div>
     </field>
   </record>
 </odoo>
```

## odoo/addons/rma/views/rma_finalization_views.xml

### odoo/addons/rma/views/rma_finalization_views.xml

```diff
@@ -12,15 +12,15 @@
   </record>
   <record id="view_rma_finalization_form" model="ir.ui.view">
     <field name="name">Rma Finalization Reasons</field>
     <field name="model">rma.finalization</field>
     <field name="arch" type="xml">
       <form string="RMA Finalization">
         <sheet>
-          <widget name="web_ribbon" title="Archived" bg_color="bg-danger" attrs="{'invisible': [('active', '=', True)]}"/>
+          <widget name="web_ribbon" title="Archived" bg_color="bg-danger" invisible="active"/>
           <group>
             <field name="name"/>
             <field name="company_id" groups="base.group_multi_company"/>
             <field name="company_id" invisible="1"/>
             <field name="active" invisible="1"/>
           </group>
         </sheet>
```

## odoo/addons/rma/views/rma_team_views.xml

### odoo/addons/rma/views/rma_team_views.xml

```diff
@@ -6,15 +6,15 @@
     <field name="model">rma.team</field>
     <field name="arch" type="xml">
       <tree>
         <field name="sequence" widget="handle"/>
         <field name="name"/>
         <field name="user_id"/>
         <field name="company_id" groups="base.group_multi_company"/>
-        <field name="company_id" invisible="1"/>
+        <field name="company_id" column_invisible="1"/>
       </tree>
     </field>
   </record>
   <record id="rma_team_view_form" model="ir.ui.view">
     <field name="name">rma.team.view.form</field>
     <field name="model">rma.team</field>
     <field name="arch" type="xml">
@@ -52,15 +52,15 @@
                         </div>
                       </div>
                     </t>
                   </templates>
                 </kanban>
               </field>
             </page>
-            <page name="emails" string="Email" attrs="{'invisible': [('alias_domain', '=', False)]}">
+            <page name="emails" string="Email" invisible="not alias_domain">
               <group name="group_alias">
                 <label for="alias_name" string="Email Alias"/>
                 <div name="alias_def">
                   <field name="alias_id" class="oe_read_only oe_inline" string="Email Alias" required="0"/>
                   <div class="oe_edit_only oe_inline" name="edit_alias" style="display: inline;">
                     <field name="alias_name" class="oe_inline"/>
                     @
```

## odoo/addons/rma/views/rma_views.xml

### odoo/addons/rma/views/rma_views.xml

```diff
@@ -53,86 +53,86 @@
   <record id="rma_view_form" model="ir.ui.view">
     <field name="name">rma.view.form</field>
     <field name="model">rma</field>
     <field name="arch" type="xml">
       <form>
         <header>
           <button name="%(portal.portal_share_action)d" string="Share" type="action" class="oe_highlight oe_read_only"/>
-          <button type="object" string="Send by Email" name="action_rma_send" attrs="{'invisible':['|', ('sent','=',True), ('state', 'not in', ['draft', 'confirmed', 'received'])]}" class="btn-primary"/>
-          <button type="object" string="Send by Mail" name="action_rma_send" attrs="{'invisible':['|', ('sent','=',False), ('state', 'not in', ['draft', 'confirmed', 'received'])]}"/>
-          <button type="object" string="Confirm" name="action_confirm" states="draft" class="btn-primary"/>
-          <button type="object" string="To Refund" name="action_refund" attrs="{'invisible': [('can_be_refunded', '=', False)]}" class="btn-primary"/>
-          <button type="object" string="Replace" name="action_replace" attrs="{'invisible': [('can_be_replaced', '=', False)]}" class="btn-primary"/>
-          <button type="object" string="Return to customer" name="action_return" attrs="{'invisible': [('can_be_returned', '=', False)]}" class="btn-primary"/>
-          <button type="object" string="Split" name="action_split" attrs="{'invisible': [('can_be_split', '=', False)]}"/>
-          <button type="object" string="Cancel" name="action_cancel" confirm="Are you sure you want to cancel this RMA" states="draft,confirmed"/>
-          <button type="object" string="Set to draft" name="action_draft" states="cancelled"/>
-          <button type="object" string="Lock" name="action_lock" attrs="{'invisible': [('can_be_locked', '=', False)]}"/>
-          <button type="object" string="Unlock" name="action_unlock" states="locked"/>
+          <button type="object" string="Send by Email" name="action_rma_send" invisible="sent or state not in ['draft', 'confirmed', 'received']" class="btn-primary"/>
+          <button type="object" string="Send by Mail" name="action_rma_send" invisible="not sent or state not in  ['draft', 'confirmed', 'received']"/>
+          <button type="object" string="Confirm" name="action_confirm" invisible="state != 'draft'" class="btn-primary"/>
+          <button type="object" string="To Refund" name="action_refund" invisible="not can_be_refunded" class="btn-primary"/>
+          <button type="object" string="Replace" name="action_replace" invisible="not can_be_replaced" class="btn-primary"/>
+          <button type="object" string="Return to customer" name="action_return" invisible="not can_be_returned" class="btn-primary"/>
+          <button type="object" string="Split" name="action_split" invisible="not can_be_split"/>
+          <button type="object" string="Cancel" name="action_cancel" confirm="Are you sure you want to cancel this RMA" invisible="state not in ['draft', 'confirmed']"/>
+          <button type="object" string="Set to draft" name="action_draft" invisible="state != 'cancelled'"/>
+          <button type="object" string="Lock" name="action_lock" invisible="not can_be_locked"/>
+          <button type="object" string="Unlock" name="action_unlock" invisible="state != 'locked'"/>
           <button type="object" string="Preview" name="action_preview"/>
           <field name="state" widget="statusbar" statusbar_visible="draft,confirmed,received"/>
         </header>
         <sheet>
           <div class="oe_button_box" name="button_box">
-            <button type="object" name="action_view_receipt" string="Receipt" class="oe_stat_button" icon="fa-truck" attrs="{'invisible': [('reception_move_id', '=', False)]}"/>
-            <button type="object" name="action_view_delivery" class="oe_stat_button" icon="fa-truck" attrs="{'invisible': [('delivery_picking_count', '=', 0)]}">
+            <button type="object" name="action_view_receipt" string="Receipt" class="oe_stat_button" icon="fa-truck" invisible="not reception_move_id"/>
+            <button type="object" name="action_view_delivery" class="oe_stat_button" icon="fa-truck" invisible="delivery_picking_count == 0">
               <field name="delivery_picking_count" widget="statinfo" string="Delivery"/>
             </button>
-            <button type="object" string="Refund" name="action_view_refund" class="oe_stat_button" icon="fa-pencil-square-o" attrs="{'invisible': [('refund_id', '=', False)]}"/>
+            <button type="object" string="Refund" name="action_view_refund" class="oe_stat_button" icon="fa-pencil-square-o" invisible="not refund_id"/>
           </div>
           <div class="oe_title">
             <h1>
-              <field name="name" readonly="1"/>
+              <field name="name" readonly="state != 'draft'"/>
             </h1>
           </div>
           <group>
             <group>
-              <field name="partner_id" widget="res_partner_many2one" context="{'search_default_customer':1, 'show_address': 1, 'show_vat': True}" attrs="{'readonly': [('state', '!=', 'draft')]}" options="{'always_reload': True}"/>
-              <field name="partner_shipping_id" attrs="{'readonly': [('state', '!=', 'draft')]}" force_save="1"/>
-              <field name="partner_invoice_id" attrs="{'readonly': [('state', 'not in', ['draft', 'confirmed', 'received'])]}" force_save="1"/>
-              <field name="picking_id" options="{'no_create': True}"/>
-              <field name="move_id" attrs="{'required': [('picking_id', '!=', False)], 'readonly': ['|', ('picking_id', '=', False), ('state', '!=', 'draft')]}" options="{'no_create': True}" force_save="1"/>
-              <field name="product_id" force_save="1" attrs="{'readonly': ['|', ('picking_id', '!=', False), ('state', '!=', 'draft')]}"/>
+              <field name="partner_id" widget="res_partner_many2one" context="{'search_default_customer':1, 'show_address': 1, 'show_vat': True}" readonly="state != 'draft'" options="{'always_reload': True}"/>
+              <field name="partner_shipping_id" readonly="state != 'draft'" force_save="1"/>
+              <field name="partner_invoice_id" readonly="state not in ['draft', 'confirmed', 'received']" force_save="1"/>
+              <field name="picking_id" options="{'no_create': True}" readonly="state != 'draft'"/>
+              <field name="move_id" required="picking_id" readonly="not picking_id or state != 'draft'" options="{'no_create': True}" force_save="1"/>
+              <field name="product_id" force_save="1" readonly="picking_id or state != 'draft'"/>
               <field name="uom_category_id" invisible="1"/>
               <label for="product_uom_qty"/>
               <div class="o_row">
-                <field name="product_uom_qty" attrs="{'readonly': [('state', '!=', 'draft')]}" force_save="1"/>
-                <field name="product_uom" groups="uom.group_uom" domain="[('category_id', '=', uom_category_id)]" attrs="{'readonly': [('state', '!=', 'draft')]}" force_save="1"/>
+                <field name="product_uom_qty" readonly="state != 'draft'" force_save="1"/>
+                <field name="product_uom" groups="uom.group_uom" domain="[('category_id', '=', uom_category_id)]" readonly="state != 'draft'" force_save="1"/>
                 <field name="product_uom" invisible="1"/>
               </div>
-              <field name="delivered_qty" attrs="{'invisible': [('delivered_qty', '=', 0.0)]}"/>
+              <field name="delivered_qty" invisible="delivered_qty == 0.0"/>
             </group>
             <group>
-              <field name="date"/>
-              <field name="user_id"/>
-              <field name="team_id"/>
+              <field name="date" readonly="state != 'draft'"/>
+              <field name="user_id" readonly="state in ['locked', 'cancelled']"/>
+              <field name="team_id" readonly="state in ['locked', 'cancelled']"/>
               <field name="tag_ids" widget="many2many_tags" options="{'color_field': 'color', 'no_create_edit': True}" placeholder="Tags..."/>
-              <field name="origin"/>
+              <field name="origin" readonly="state in ['locked', 'cancelled']"/>
               <field name="operation_id"/>
-              <field name="finalization_id" attrs="{'invisible': [('state', '!=', 'finished')]}"/>
-              <field name="company_id" options="{'no_create': True}" groups="base.group_multi_company"/>
-              <field name="company_id" invisible="1"/>
+              <field name="finalization_id" readonly="1" invisible="state != 'finished'"/>
+              <field name="company_id" options="{'no_create': True}" groups="base.group_multi_company" readonly="state in ['locked', 'cancelled']"/>
+              <field name="company_id" invisible="1" readonly="state in ['locked', 'cancelled']"/>
             </group>
           </group>
           <notebook>
             <page name="page_other" string="Other Information">
               <group>
                 <group>
-                  <field name="procurement_group_id"/>
-                  <field name="location_id" options="{'no_create': True, 'no_open': True}" groups="stock.group_stock_multi_locations" attrs="{'readonly': [('state', '!=', 'draft')]}"/>
+                  <field name="procurement_group_id" readonly="state not in ['draft', 'confirmed', 'received']"/>
+                  <field name="location_id" options="{'no_create': True, 'no_open': True}" groups="stock.group_stock_multi_locations" readonly="state != 'draft'"/>
                   <field name="location_id" invisible="1"/>
                 </group>
                 <group>
-                  <field name="deadline"/>
-                  <field name="priority" widget="priority"/>
-                  <field name="origin_split_rma_id" attrs="{'invisible': [('origin_split_rma_id', '=', False)]}"/>
+                  <field name="deadline" readonly="state in ['locked', 'cancelled']"/>
+                  <field name="priority" widget="priority" readonly="state != 'draft'"/>
+                  <field name="origin_split_rma_id" invisible="1"/>
                 </group>
               </group>
               <group>
-                <field name="description" widget="html" colspan="4"/>
+                <field name="description" widget="html" colspan="4" readonly="state in ['locked', 'cancelled']"/>
               </group>
             </page>
           </notebook>
           <field name="sent" invisible="1"/>
           <field name="reception_move_id" invisible="1"/>
           <field name="refund_id" invisible="1"/>
           <field name="can_be_refunded" invisible="1"/>
@@ -153,15 +153,15 @@
     </field>
   </record>
   <record id="rma_finalization_form" model="ir.ui.view">
     <field name="model">rma</field>
     <field name="inherit_id" ref="rma.rma_view_form"/>
     <field name="arch" type="xml">
       <xpath expr="//form//header//button[@name='action_cancel']" position="before">
-        <button type="object" string="Finish" name="action_finish" class="btn-primary" attrs="{'invisible': [('can_be_finished', '=', False)]}" groups="rma.group_rma_manual_finalization"/>
+        <button type="object" string="Finish" name="action_finish" class="btn-primary" invisible="not can_be_finished" groups="rma.group_rma_manual_finalization"/>
       </xpath>
     </field>
   </record>
   <record id="rma_view_pivot" model="ir.ui.view">
     <field name="name">rma.pivot</field>
     <field name="model">rma</field>
     <field name="arch" type="xml">
@@ -172,15 +172,15 @@
       </pivot>
     </field>
   </record>
   <record id="rma_view_calendar" model="ir.ui.view">
     <field name="name">rma.calendar</field>
     <field name="model">rma</field>
     <field name="arch" type="xml">
-      <calendar date_start="date" mode="month" color="state" quick_add="False">
+      <calendar date_start="date" mode="month" color="state">
         <field name="name"/>
         <field name="partner_id"/>
         <field name="product_id"/>
         <field name="product_uom_qty" widget="monetary"/>
       </calendar>
     </field>
   </record>
```

## odoo/addons/rma/views/stock_picking_views.xml

### odoo/addons/rma/views/stock_picking_views.xml

```diff
@@ -4,14 +4,14 @@
 <odoo>
   <record id="view_picking_form" model="ir.ui.view">
     <field name="name">stock.picking.form</field>
     <field name="model">stock.picking</field>
     <field name="inherit_id" ref="stock.view_picking_form"/>
     <field name="arch" type="xml">
       <div name="button_box">
-        <button name="action_view_rma" type="object" class="oe_stat_button" icon="fa-reply" attrs="{'invisible': [('rma_count', '=', 0)]}" groups="rma.rma_group_user_own">
+        <button name="action_view_rma" type="object" class="oe_stat_button" icon="fa-reply" invisible="rma_count == 0" groups="rma.rma_group_user_own">
           <field name="rma_count" widget="statinfo" string="RMA"/>
         </button>
       </div>
     </field>
   </record>
 </odoo>
```

## odoo/addons/rma/wizard/rma_delivery_views.xml

### odoo/addons/rma/wizard/rma_delivery_views.xml

```diff
@@ -7,24 +7,24 @@
     <field name="name">rma.delivery.wizard.form</field>
     <field name="model">rma.delivery.wizard</field>
     <field name="arch" type="xml">
       <form>
         <group>
           <group>
             <field name="scheduled_date"/>
-            <field name="warehouse_id" attrs="{'invisible': [('type', '!=', 'replace')]}"/>
-            <field name="rma_return_grouping" attrs="{'invisible': ['|', ('type', '=', 'replace'), ('rma_count', '=', 1)]}"/>
+            <field name="warehouse_id" invisible="type != 'replace'"/>
+            <field name="rma_return_grouping" invisible="type == 'replace' or rma_count == 1"/>
           </group>
           <group>
             <field name="uom_category_id" invisible="1"/>
-            <field name="product_id" attrs="{'invisible': ['|', ('type', '!=', 'replace'), ('rma_count', '&gt;', 1)], 'required': [('type', '=', 'replace'), ('rma_count', '=', 1)]}"/>
-            <label for="product_uom_qty" attrs="{'invisible': [('rma_count', '&gt;', 1)]}"/>
-            <div class="o_row" attrs="{'invisible': [('rma_count', '&gt;', 1)]}">
-              <field name="product_uom_qty" attrs="{'required': [('rma_count', '=', 1)]}"/>
-              <field name="product_uom" groups="uom.group_uom" attrs="{'required': [('rma_count', '=', 1)]}" domain="[('category_id', '=', uom_category_id)]"/>
+            <field name="product_id" invisible="type != 'replace' or rma_count &gt; 1" required="type == 'replace' and rma_count == 1"/>
+            <label for="product_uom_qty" invisible="rma_count &gt; 1"/>
+            <div class="o_row" invisible="rma_count &gt; 1">
+              <field name="product_uom_qty" required="rma_count == 1"/>
+              <field name="product_uom" groups="uom.group_uom" required="rma_count == 1" domain="[('category_id', '=', uom_category_id)]"/>
               <field name="product_uom" invisible="1"/>
             </div>
           </group>
         </group>
         <field name="rma_count" invisible="1"/>
         <field name="type" invisible="1"/>
         <footer>
```

## odoo/addons/rma/wizard/stock_picking_return_views.xml

### odoo/addons/rma/wizard/stock_picking_return_views.xml

```diff
@@ -6,15 +6,15 @@
   <record id="view_stock_return_picking_form" model="ir.ui.view">
     <field name="name">Return lines inherit RMA</field>
     <field name="model">stock.return.picking</field>
     <field name="inherit_id" ref="stock.view_stock_return_picking_form"/>
     <field name="arch" type="xml">
       <field name="product_return_moves" position="after">
         <group name="group_rma">
-          <field name="create_rma" attrs="{'invisible': [('picking_type_code', '!=', 'outgoing')]}"/>
+          <field name="create_rma" invisible="picking_type_code != 'outgoing'"/>
           <field name="rma_location_ids" invisible="1"/>
           <field name="picking_id" invisible="1"/>
           <field name="picking_type_code" invisible="1"/>
         </group>
       </field>
     </field>
   </record>
```

## Comparing `odoo/addons/rma/readme/CONFIGURE.rst` & `odoo/addons/rma/readme/CONFIGURE.md`

 * *Files 27% similar despite different names*

```diff
@@ -1,21 +1,22 @@
 If you want RMAs to be created from incoming emails, you need to:
 
-#. Go to *Settings > General Settings*.
-#. Check 'External Email Servers' checkbox under *Discuss* section.
-#. Set an 'alias domain' and an incoming server.
-#. Go to *RMA > Configuration > RMA Team* and select a team or create a new
-   one.
-#. Go to 'Email' tab and set an 'Email Alias'.
+1.  Go to *Settings \> General Settings*.
+2.  Check 'External Email Servers' checkbox under *Discuss* section.
+3.  Set an 'alias domain' and an incoming server.
+4.  Go to *RMA \> Configuration \> RMA Team* and select a team or create
+    a new one.
+5.  Go to 'Email' tab and set an 'Email Alias'.
 
 If you want to manually finish RMAs, you need to:
 
-#. Go to *Settings > Inventory*.
-#. Set *Finish RMAs manually* checkbox on.
+1.  Go to *Settings \> Inventory*.
+2.  Set *Finish RMAs manually* checkbox on.
 
-By default, returns to customer are grouped by shipping address, warehouse and company.
-If you want to avoid this grouping you can:
+By default, returns to customer are grouped by shipping address,
+warehouse and company. If you want to avoid this grouping you can:
 
-#. Go to *Settings > Inventory*.
-#. Set *Group RMA returns by customer address and warehouse* checkbox off.
+1.  Go to *Settings \> Inventory*.
+2.  Set *Group RMA returns by customer address and warehouse* checkbox
+    off.
 
 The users will still be able to group those pickings from the wizard.
```

## Comparing `odoo/addons/rma/readme/DESCRIPTION.rst` & `odoo/addons/rma/readme/DESCRIPTION.md`

 * *Files 26% similar despite different names*

```diff
@@ -1,8 +1,8 @@
-This module allows you to manage `Return Merchandise Authorization (RMA)
-<https://en.wikipedia.org/wiki/Return_merchandise_authorization>`_.
+This module allows you to manage [Return Merchandise Authorization
+(RMA)](https://en.wikipedia.org/wiki/Return_merchandise_authorization).
 RMA documents can be created from scratch, from a delivery order or from
 an incoming email. Product receptions and returning delivery operations
 of the RMA module are fully integrated with the Receipts and Deliveries
 Operations of Odoo inventory core module. It also allows you to generate
-refunds in the same way as Odoo generates it.
-Besides, you have full integration of the RMA documents in the customer portal.
+refunds in the same way as Odoo generates it. Besides, you have full
+integration of the RMA documents in the customer portal.
```

## Comparing `odoo/addons/rma/readme/USAGE.rst` & `odoo/addons/rma/readme/USAGE.md`

 * *Files 13% similar despite different names*

```diff
@@ -1,57 +1,59 @@
 To use this module, you need to:
 
-#. Go to *RMA > Orders* and create a new RMA.
-#. Select a partner, an invoice address, select a product
-   (or select a picking and a move instead), write a quantity, fill the rest
-   of the form and click on 'confirm' button in the status bar.
-#. You will see an smart button labeled 'Receipt'. Click on that button to see
-   the reception operation form.
-#. If everything is right, validate the operation and go back to the RMA to
-   see it in a 'received' state.
-#. Now you are able to generate a refund, generate a delivery order to return
-   to the customer the same product or another product as a replacement, split
-   the RMA by extracting a part of the remaining quantity to another RMA,
-   preview the RMA in the website. All of these operations can be done by
-   clicking on the buttons in the status bar.
-
-   * If you click on 'Refund' button, a refund will be created, and it will be
-     accessible via the smart button labeled Refund. The RMA will be set
-     automatically to 'Refunded' state when the refund is validated.
-   * If you click on 'Replace' or 'Return to customer' button instead,
-     a popup wizard will guide you to create a Delivery order to the client
-     and this order will be accessible via the smart button labeled Delivery.
-     The RMA will be set automatically to 'Replaced' or 'Returned' state when
-     the RMA quantity is equal or lower than the quantity in done delivery
-     orders linked to it.
-#. You can also finish the RMA without further ado. To do so click on the *Finish*
-   button. A wizard will ask you for the reason from a selection of preconfigured ones.
-   Be sure to configure them in advance on *RMA > Configuration > Finalization Reasons*.
-   Once the RMA is finished, it will be set to that state and the reason will be
-   registered.
+1.  Go to *RMA \> Orders* and create a new RMA.
+2.  Select a partner, an invoice address, select a product (or select a
+    picking and a move instead), write a quantity, fill the rest of the
+    form and click on 'confirm' button in the status bar.
+3.  You will see an smart button labeled 'Receipt'. Click on that button
+    to see the reception operation form.
+4.  If everything is right, validate the operation and go back to the
+    RMA to see it in a 'received' state.
+5.  Now you are able to generate a refund, generate a delivery order to
+    return to the customer the same product or another product as a
+    replacement, split the RMA by extracting a part of the remaining
+    quantity to another RMA, preview the RMA in the website. All of
+    these operations can be done by clicking on the buttons in the
+    status bar.
+    - If you click on 'To Refund' button, a refund will be created, and it
+      will be accessible via the smart button labeled Refund. The RMA
+      will be set automatically to 'Refunded' state when the refund is
+      validated.
+    - If you click on 'Replace' or 'Return to customer' button instead,
+      a popup wizard will guide you to create a Delivery order to the
+      client and this order will be accessible via the smart button
+      labeled Delivery. The RMA will be set automatically to 'Replaced'
+      or 'Returned' state when the RMA quantity is equal or lower than
+      the quantity in done delivery orders linked to it.
+6.  You can also finish the RMA without further ado. To do so click on
+    the *Finish* button. A wizard will ask you for the reason from a
+    selection of preconfigured ones. Be sure to configure them in
+    advance on *RMA \> Configuration \> Finalization Reasons*. Once the
+    RMA is finished, it will be set to that state and the reason will be
+    registered.
 
 An RMA can also be created from a return of a delivery order:
 
-#. Select a delivery order and click on 'Return' button to create a return.
-#. Check "Create RMAs" checkbox in the returning wizard, select the RMA
-   stock location and click on 'Return' button.
-#. An RMA will be created for each product returned in the previous step.
-   Every RMA will be in confirmed state and they will
-   be linked to the returning operation generated previously.
+1.  Select a delivery order and click on 'Return' button to create a
+    return.
+2.  Check "Create RMAs" checkbox in the returning wizard, select the RMA
+    stock location and click on 'Return' button.
+3.  An RMA will be created for each product returned in the previous
+    step. Every RMA will be in confirmed state and they will be linked
+    to the returning operation generated previously.
 
 There are Optional RMA Teams that can be used for:
 
-  - Organize RMAs in sections.
-  - Subscribe users to notifications.
-  - Create RMAs from incoming mail to special aliases (See configuration
-    section).
+> - Organize RMAs in sections.
+> - Subscribe users to notifications.
+> - Create RMAs from incoming mail to special aliases (See configuration
+>   section).
 
 To create an RMA Team (RMA Responsible user level required):
 
-  #. Go to *RMA > Configuration > RMA Teams*
-  #. Create a new team and assign a name, a responsible and members.
-  #. Subscribe users to notifications, that can be of these subtypes:
-
-     - RMA draft. When a new RMA is created.
-     - Notes, Debates, Activities. As in standard Odoo.
-  #. In the list view, use the cross handle to sort RMA Teams. The top team
-     will be the default one if no team is set.
+> 1.  Go to *RMA \> Configuration \> RMA Teams*
+> 2.  Create a new team and assign a name, a responsible and members.
+> 3.  Subscribe users to notifications, that can be of these subtypes:
+>     - RMA draft. When a new RMA is created.
+>     - Notes, Debates, Activities. As in standard Odoo.
+> 4.  In the list view, use the cross handle to sort RMA Teams. The top
+>     team will be the default one if no team is set.
```

## Comparing `odoo_addon_rma-16.0.1.2.0.2.dist-info/METADATA` & `odoo_addon_rma-17.0.1.0.0.2.dist-info/METADATA`

 * *Files 6% similar despite different names*

```diff
@@ -1,194 +1,202 @@
 Metadata-Version: 2.1
 Name: odoo-addon-rma
-Version: 16.0.1.2.0.2
+Version: 17.0.1.0.0.2
+Requires-Python: >=3.10
+Requires-Dist: odoo>=17.0a,<17.1dev
 Summary: Return Merchandise Authorization (RMA)
 Home-page: https://github.com/OCA/rma
+License: AGPL-3
 Author: Tecnativa, Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
-License: AGPL-3
-Platform: UNKNOWN
 Classifier: Programming Language :: Python
 Classifier: Framework :: Odoo
-Classifier: Framework :: Odoo :: 16.0
+Classifier: Framework :: Odoo :: 17.0
 Classifier: License :: OSI Approved :: GNU Affero General Public License v3
 Classifier: Development Status :: 5 - Production/Stable
-Requires-Python: >=3.10
-Requires-Dist: odoo <16.1dev,>=16.0a
 
 ===========================================
 Return Merchandise Authorization Management
 ===========================================
 
 .. 
    !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
    !! This file is generated by oca-gen-addon-readme !!
    !! changes will be overwritten.                   !!
    !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
-   !! source digest: sha256:4883b701d44a55d02e769bdbf411c649efc42341792b63e965630e712a6406d9
+   !! source digest: sha256:9ca167b75e0dcd82a66217ef64dd006910f4feda1f408dbdf09ef43e6555eb22
    !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 
 .. |badge1| image:: https://img.shields.io/badge/maturity-Production%2FStable-green.png
     :target: https://odoo-community.org/page/development-status
     :alt: Production/Stable
 .. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
     :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
     :alt: License: AGPL-3
 .. |badge3| image:: https://img.shields.io/badge/github-OCA%2Frma-lightgray.png?logo=github
-    :target: https://github.com/OCA/rma/tree/16.0/rma
+    :target: https://github.com/OCA/rma/tree/17.0/rma
     :alt: OCA/rma
 .. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
-    :target: https://translation.odoo-community.org/projects/rma-16-0/rma-16-0-rma
+    :target: https://translation.odoo-community.org/projects/rma-17-0/rma-17-0-rma
     :alt: Translate me on Weblate
 .. |badge5| image:: https://img.shields.io/badge/runboat-Try%20me-875A7B.png
-    :target: https://runboat.odoo-community.org/builds?repo=OCA/rma&target_branch=16.0
+    :target: https://runboat.odoo-community.org/builds?repo=OCA/rma&target_branch=17.0
     :alt: Try me on Runboat
 
 |badge1| |badge2| |badge3| |badge4| |badge5|
 
-This module allows you to manage `Return Merchandise Authorization (RMA)
-<https://en.wikipedia.org/wiki/Return_merchandise_authorization>`_.
+This module allows you to manage `Return Merchandise Authorization
+(RMA) <https://en.wikipedia.org/wiki/Return_merchandise_authorization>`__.
 RMA documents can be created from scratch, from a delivery order or from
 an incoming email. Product receptions and returning delivery operations
 of the RMA module are fully integrated with the Receipts and Deliveries
 Operations of Odoo inventory core module. It also allows you to generate
-refunds in the same way as Odoo generates it.
-Besides, you have full integration of the RMA documents in the customer portal.
+refunds in the same way as Odoo generates it. Besides, you have full
+integration of the RMA documents in the customer portal.
 
 **Table of contents**
 
 .. contents::
    :local:
 
 Configuration
 =============
 
 If you want RMAs to be created from incoming emails, you need to:
 
-#. Go to *Settings > General Settings*.
-#. Check 'External Email Servers' checkbox under *Discuss* section.
-#. Set an 'alias domain' and an incoming server.
-#. Go to *RMA > Configuration > RMA Team* and select a team or create a new
-   one.
-#. Go to 'Email' tab and set an 'Email Alias'.
+1. Go to *Settings > General Settings*.
+2. Check 'External Email Servers' checkbox under *Discuss* section.
+3. Set an 'alias domain' and an incoming server.
+4. Go to *RMA > Configuration > RMA Team* and select a team or create a
+   new one.
+5. Go to 'Email' tab and set an 'Email Alias'.
 
 If you want to manually finish RMAs, you need to:
 
-#. Go to *Settings > Inventory*.
-#. Set *Finish RMAs manually* checkbox on.
+1. Go to *Settings > Inventory*.
+2. Set *Finish RMAs manually* checkbox on.
 
-By default, returns to customer are grouped by shipping address, warehouse and company.
-If you want to avoid this grouping you can:
+By default, returns to customer are grouped by shipping address,
+warehouse and company. If you want to avoid this grouping you can:
 
-#. Go to *Settings > Inventory*.
-#. Set *Group RMA returns by customer address and warehouse* checkbox off.
+1. Go to *Settings > Inventory*.
+2. Set *Group RMA returns by customer address and warehouse* checkbox
+   off.
 
 The users will still be able to group those pickings from the wizard.
 
 Usage
 =====
 
 To use this module, you need to:
 
-#. Go to *RMA > Orders* and create a new RMA.
-#. Select a partner, an invoice address, select a product
-   (or select a picking and a move instead), write a quantity, fill the rest
-   of the form and click on 'confirm' button in the status bar.
-#. You will see an smart button labeled 'Receipt'. Click on that button to see
-   the reception operation form.
-#. If everything is right, validate the operation and go back to the RMA to
-   see it in a 'received' state.
-#. Now you are able to generate a refund, generate a delivery order to return
-   to the customer the same product or another product as a replacement, split
-   the RMA by extracting a part of the remaining quantity to another RMA,
-   preview the RMA in the website. All of these operations can be done by
-   clicking on the buttons in the status bar.
-
-   * If you click on 'Refund' button, a refund will be created, and it will be
-     accessible via the smart button labeled Refund. The RMA will be set
-     automatically to 'Refunded' state when the refund is validated.
-   * If you click on 'Replace' or 'Return to customer' button instead,
-     a popup wizard will guide you to create a Delivery order to the client
-     and this order will be accessible via the smart button labeled Delivery.
-     The RMA will be set automatically to 'Replaced' or 'Returned' state when
-     the RMA quantity is equal or lower than the quantity in done delivery
-     orders linked to it.
-#. You can also finish the RMA without further ado. To do so click on the *Finish*
-   button. A wizard will ask you for the reason from a selection of preconfigured ones.
-   Be sure to configure them in advance on *RMA > Configuration > Finalization Reasons*.
-   Once the RMA is finished, it will be set to that state and the reason will be
+1. Go to *RMA > Orders* and create a new RMA.
+2. Select a partner, an invoice address, select a product (or select a
+   picking and a move instead), write a quantity, fill the rest of the
+   form and click on 'confirm' button in the status bar.
+3. You will see an smart button labeled 'Receipt'. Click on that button
+   to see the reception operation form.
+4. If everything is right, validate the operation and go back to the RMA
+   to see it in a 'received' state.
+5. Now you are able to generate a refund, generate a delivery order to
+   return to the customer the same product or another product as a
+   replacement, split the RMA by extracting a part of the remaining
+   quantity to another RMA, preview the RMA in the website. All of these
+   operations can be done by clicking on the buttons in the status bar.
+
+   -  If you click on 'To Refund' button, a refund will be created, and
+      it will be accessible via the smart button labeled Refund. The RMA
+      will be set automatically to 'Refunded' state when the refund is
+      validated.
+   -  If you click on 'Replace' or 'Return to customer' button instead,
+      a popup wizard will guide you to create a Delivery order to the
+      client and this order will be accessible via the smart button
+      labeled Delivery. The RMA will be set automatically to 'Replaced'
+      or 'Returned' state when the RMA quantity is equal or lower than
+      the quantity in done delivery orders linked to it.
+
+6. You can also finish the RMA without further ado. To do so click on
+   the *Finish* button. A wizard will ask you for the reason from a
+   selection of preconfigured ones. Be sure to configure them in advance
+   on *RMA > Configuration > Finalization Reasons*. Once the RMA is
+   finished, it will be set to that state and the reason will be
    registered.
 
 An RMA can also be created from a return of a delivery order:
 
-#. Select a delivery order and click on 'Return' button to create a return.
-#. Check "Create RMAs" checkbox in the returning wizard, select the RMA
+1. Select a delivery order and click on 'Return' button to create a
+   return.
+2. Check "Create RMAs" checkbox in the returning wizard, select the RMA
    stock location and click on 'Return' button.
-#. An RMA will be created for each product returned in the previous step.
-   Every RMA will be in confirmed state and they will
-   be linked to the returning operation generated previously.
+3. An RMA will be created for each product returned in the previous
+   step. Every RMA will be in confirmed state and they will be linked to
+   the returning operation generated previously.
 
 There are Optional RMA Teams that can be used for:
 
-  - Organize RMAs in sections.
-  - Subscribe users to notifications.
-  - Create RMAs from incoming mail to special aliases (See configuration
-    section).
+   -  Organize RMAs in sections.
+   -  Subscribe users to notifications.
+   -  Create RMAs from incoming mail to special aliases (See
+      configuration section).
 
 To create an RMA Team (RMA Responsible user level required):
 
-  #. Go to *RMA > Configuration > RMA Teams*
-  #. Create a new team and assign a name, a responsible and members.
-  #. Subscribe users to notifications, that can be of these subtypes:
-
-     - RMA draft. When a new RMA is created.
-     - Notes, Debates, Activities. As in standard Odoo.
-  #. In the list view, use the cross handle to sort RMA Teams. The top team
-     will be the default one if no team is set.
+   1. Go to *RMA > Configuration > RMA Teams*
+   2. Create a new team and assign a name, a responsible and members.
+   3. Subscribe users to notifications, that can be of these subtypes:
+
+      -  RMA draft. When a new RMA is created.
+      -  Notes, Debates, Activities. As in standard Odoo.
+
+   4. In the list view, use the cross handle to sort RMA Teams. The top
+      team will be the default one if no team is set.
 
 Known issues / Roadmap
 ======================
 
-* As soon as the picking is selected, the user should select the move,
-  but perhaps stock.move _rec_name could be improved to better show what
-  the product of that move is.
+-  As soon as the picking is selected, the user should select the move,
+   but perhaps stock.move \_rec_name could be improved to better show
+   what the product of that move is.
 
 Bug Tracker
 ===========
 
 Bugs are tracked on `GitHub Issues <https://github.com/OCA/rma/issues>`_.
 In case of trouble, please check there if your issue has already been reported.
 If you spotted it first, help us to smash it by providing a detailed and welcomed
-`feedback <https://github.com/OCA/rma/issues/new?body=module:%20rma%0Aversion:%2016.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
+`feedback <https://github.com/OCA/rma/issues/new?body=module:%20rma%0Aversion:%2017.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
 
 Do not contact contributors directly about support or help with technical issues.
 
 Credits
 =======
 
 Authors
-~~~~~~~
+-------
 
 * Tecnativa
 
 Contributors
-~~~~~~~~~~~~
+------------
+
+-  `Tecnativa <https://www.tecnativa.com>`__:
 
-* `Tecnativa <https://www.tecnativa.com>`_:
+   -  Ernesto Tejeda
+   -  Pedro M. Baeza
+   -  David Vidal
+   -  Víctor Martínez
 
-  * Ernesto Tejeda
-  * Pedro M. Baeza
-  * David Vidal
-  * Víctor Martínez
+-  Chafique Delli <chafique.delli@akretion.com>
+-  Giovanni Serra - Ooops <giovanni@ooops404.com>
+-  `APSL-Nagarro <https://www.apsl.tech>`__:
 
-* Chafique Delli <chafique.delli@akretion.com>
-* Giovanni Serra - Ooops <giovanni@ooops404.com>
+   -  Antoni Marroig <amarroig@apsl.net>
 
 Maintainers
-~~~~~~~~~~~
+-----------
 
 This module is maintained by the OCA.
 
 .. image:: https://odoo-community.org/logo.png
    :alt: Odoo Community Association
    :target: https://odoo-community.org
 
@@ -203,12 +211,10 @@
     :target: https://github.com/chienandalu
     :alt: chienandalu
 
 Current `maintainers <https://odoo-community.org/page/maintainer-role>`__:
 
 |maintainer-pedrobaeza| |maintainer-chienandalu| 
 
-This module is part of the `OCA/rma <https://github.com/OCA/rma/tree/16.0/rma>`_ project on GitHub.
+This module is part of the `OCA/rma <https://github.com/OCA/rma/tree/17.0/rma>`_ project on GitHub.
 
 You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
-
-
```

## Comparing `odoo_addon_rma-16.0.1.2.0.2.dist-info/RECORD` & `odoo_addon_rma-17.0.1.0.0.2.dist-info/RECORD`

 * *Files 8% similar despite different names*

```diff
@@ -1,70 +1,70 @@
-odoo/addons/rma/README.rst,sha256=hFUiN0z9vO9r-AVRLd5ex8MX3mnuYvFdmW4JOVHtTl8,7905
+odoo/addons/rma/README.rst,sha256=d8janc9DhxgKJ8A4Vkfr2l8hXOpGpw4akDQUmMT4KXQ,8055
 odoo/addons/rma/__init__.py,sha256=KD8ElbTlUwRgGDQzvMIqp-WeEXGTuHqQT352BCbK2I0,168
-odoo/addons/rma/__manifest__.py,sha256=_5B-O86H62ICYwaO0Sek1XRmqLDH8WJ6B7ZNkgdGtNg,1527
-odoo/addons/rma/hooks.py,sha256=dUYhUPfUJRz33Ru_UUpHZSgYurSTwoHxUxoTfWksCOM,2825
+odoo/addons/rma/__manifest__.py,sha256=ekj_cIMzhNDdy-BUB-qO262aaGxSWtgDrsmy1lfGFXI,1527
+odoo/addons/rma/hooks.py,sha256=olPS4VGG57XvuTL0b0o3QjiNPsZrA8w25zsJUeIAgRk,2731
 odoo/addons/rma/controllers/__init__.py,sha256=ZAYSY9pxyJjumL2QVLuxqtBzjLwKPiQsVXMBAWvNGGY,85
-odoo/addons/rma/controllers/main.py,sha256=ye0OSKRPZ6YhQzRt_Gv1W0Owd9_gdDScLhUu6ISvAps,5406
-odoo/addons/rma/data/mail_data.xml,sha256=RubsJ1NMxg0lf92fdFOg_afwmifAd3tVHZhJRz6bHsk,6611
+odoo/addons/rma/controllers/main.py,sha256=luAXQnt-pSpM0QpZjZqLwyz-ktPWGCN-jhjM3oJpY7w,5455
+odoo/addons/rma/data/mail_data.xml,sha256=c9Qgjbldc0J51W5kct5GKx8ncf6U45RtTuyY4dtjI0M,6482
 odoo/addons/rma/data/rma_operation_data.xml,sha256=fYq_1YP1sgRq7zvQ5gU4SJsZnq2TL-YihJcTXohuNzM,421
 odoo/addons/rma/data/stock_data.xml,sha256=_zwGmuGjhpptZWyXXdev9snSTjNekBpUsMXKD0bH8zE,332
 odoo/addons/rma/i18n/de.po,sha256=H9B2jkuLgDHTnS2iotahm9nBpq8IcG_CBaCvPWBTzy0,85197
 odoo/addons/rma/i18n/de_AT.po,sha256=kpcH68LB-l4ZB29nUcKs2xTXWKxj5B7gzmMQoyfg3NA,63422
 odoo/addons/rma/i18n/es.po,sha256=fUqjLy5oC1r1RGGg4BmENLISGA4Ir9U3z8jRQbOUBsU,89186
 odoo/addons/rma/i18n/fr.po,sha256=sjCAyrPHKcfSI9QSPElLLc8uZBgdOOI009Luna4yuOc,79174
 odoo/addons/rma/i18n/it.po,sha256=MtkPULvrK12vZzprW7MiKtoZHP1gA0lomKGB3M7xRDs,88170
 odoo/addons/rma/i18n/nl.po,sha256=VXJlh3jW8rBWGOAQ6gnnXHT7ND_GcUJUM-T2Nplrjsk,63419
 odoo/addons/rma/i18n/pt.po,sha256=7oWRbi3NJfX3raNAGmpNE8iV-zSK3e5gpu7nupEYU8U,75055
 odoo/addons/rma/i18n/pt_BR.po,sha256=qvIvtM08TN1LCX6yy7fDfMyerb8RKRnBTclCfGbJchY,74243
-odoo/addons/rma/i18n/rma.pot,sha256=gAORTT6htwxSLjFRrG5fSKaXiM1bn--cmkGmZ0VyzP0,63427
+odoo/addons/rma/i18n/rma.pot,sha256=MXwZfQp1xI9pPQRHH3cakOlNxhS1UBPGGYRyTGNsPUA,62079
 odoo/addons/rma/i18n/ro.po,sha256=FzPh6O0_T9X6nUeY-p-fFY7tdirEyNVllLibwarpGCs,70994
 odoo/addons/rma/i18n/zh_CN.po,sha256=Y_DLlr7RIjQ0hWUV4YOwTdqKcv_ESb41IeMTw93DdCk,63530
 odoo/addons/rma/models/__init__.py,sha256=SwBeY3SB1s7Nrn54Mw0LvlOF7LTLCGU7mzyy5kUR4qs,408
 odoo/addons/rma/models/account_move.py,sha256=oa7Czf53RZskOoenNQqNU-8x6pMz05qrAjU02Ef_g04,1653
 odoo/addons/rma/models/res_company.py,sha256=46aercxmY3p3t0JoIzlSSP_pjkvjaQb1pHRpR1Xuy1o,3159
 odoo/addons/rma/models/res_config_settings.py,sha256=-X3NWCfEG1LJ2iE2dYl3Ut-suDskrHMkp0D597EFhIw,1493
 odoo/addons/rma/models/res_partner.py,sha256=hwa0H6OIniUcTp5xjsRGmtkDHb1rMbZXRo7IsRqL-4U,1217
 odoo/addons/rma/models/res_users.py,sha256=43A5IHYXEXe9M4G0cONf1l7EZ1AWl5mhWJ24EdtAfhI,351
-odoo/addons/rma/models/rma.py,sha256=mOtrKIqSqK0qUQbg_kNJdmxjo8d3I63r72NJes-oP_Y,52643
+odoo/addons/rma/models/rma.py,sha256=OmgLBJ5e2BzeMkVYIYJU9tNw2JKKpK-8anMWaiv2CVI,50554
 odoo/addons/rma/models/rma_finalization.py,sha256=kgJ6EFWBXJKGCwKy7bbWRUynExsCMQyjqcflDpvwtaE,681
 odoo/addons/rma/models/rma_operation.py,sha256=xbDjthojPoZpSpqKg3eNyYcctv40hPsmrFcUHV3BUyg,460
 odoo/addons/rma/models/rma_tag.py,sha256=RVFLyo8XmgjK_ftrRHWiEtzUQGs4b-OMhg0hwr-5Rzw,833
 odoo/addons/rma/models/rma_team.py,sha256=5gyghbFOE4RR6dR5TQ1lRC4kK88i6G51V3dlY9gN6EY,1935
-odoo/addons/rma/models/stock_move.py,sha256=FalAZemB7iwM70dtF5Thts1PYJ4RX2dBPx1AUoGn2Q0,5590
+odoo/addons/rma/models/stock_move.py,sha256=wM_DOaP2kWo1Ddp1tz9v_Y8y_ZD3ZMua9c6uqknFGqc,5585
 odoo/addons/rma/models/stock_picking.py,sha256=phStwmjE7JH313yxFq2RoCzD1sCOJB3cIfkLKcjafmw,1407
 odoo/addons/rma/models/stock_warehouse.py,sha256=qUHKT6FXIvzhy_vskAQJDohTaSGp1wdGNyqoVQ_crME,5437
-odoo/addons/rma/readme/CONFIGURE.rst,sha256=18sDF1e6lSdLnaWb6R1MVCgqT1-5QTaazG9HQKySdlg,796
-odoo/addons/rma/readme/CONTRIBUTORS.rst,sha256=82RytOxNT8uFqs8pruyNhpPmnO4cGriB9JV7rs7952I,218
-odoo/addons/rma/readme/DESCRIPTION.rst,sha256=JFh4vDgsX1CaV8ea4m8rYCqC-1XOMzI-jTkwMg6WJ68,557
-odoo/addons/rma/readme/ROADMAP.rst,sha256=wnEKk5P5XIgyQnD8R8HgKcdmZNdGMUqM9fok88fZZd0,175
-odoo/addons/rma/readme/USAGE.rst,sha256=r2DE4kuLoeGsbOCFxLaxmFBUppVBFxpqxmH2zPdy6zU,2965
+odoo/addons/rma/readme/CONFIGURE.md,sha256=6ra3zJk5dFGFCaXnWqmwEQpr9nhe9bNLrgxnQ_mx8hs,815
+odoo/addons/rma/readme/CONTRIBUTORS.md,sha256=6zmAlyAg4_tP3KgAS5Mow8yi52S9ZrX0ZH04LRet7tU,306
+odoo/addons/rma/readme/DESCRIPTION.md,sha256=WWwGgoqa_WcT8k0SHH5KMOy2quzqO7uM6LyJIi1XHsI,555
+odoo/addons/rma/readme/ROADMAP.md,sha256=oU6v-z_BQYmLe4SELHf6OMP5PNDRUrnAgjHu2Z52bPE,176
+odoo/addons/rma/readme/USAGE.md,sha256=AMvBduxDTfEeD73OLs2ZAk-kkMmawB5N7QaUkd2HQrg,3029
 odoo/addons/rma/report/report.xml,sha256=rMg9_lccL-dJClHvMCmRI1Feh499gnExeskIylcvEhQ,467
 odoo/addons/rma/security/ir.model.access.csv,sha256=zACDkLgOfICGiJGb4A9RNKbtlpBcFIC4rDZxESyBzbQ,1724
 odoo/addons/rma/security/rma_security.xml,sha256=_tz_MXqW8bWfzGhgQ3pDI7xdx6tX321DrkIaRAd2W6E,5374
 odoo/addons/rma/static/description/icon.png,sha256=0VH8J6xmJMYW0dBaW-Ts-Gm5oRvbf9mOglT4vqUKxdU,7450
-odoo/addons/rma/static/description/index.html,sha256=KSt-Ke8psgaz9_J9fKTSHo9InnUx-6wi1qjVml6lLSw,18521
+odoo/addons/rma/static/description/index.html,sha256=m5vGwFVzraKmi1RUbEsadTg5Q6End8-8c2t6pWpmG7Q,18745
 odoo/addons/rma/tests/__init__.py,sha256=Q2ntkew4ZtzTd3zhA1Ly6e-C1NrU6zIPUVEr7hDD-CY,89
-odoo/addons/rma/tests/test_rma.py,sha256=oHC9KAXll4Mf0tyOjOtz985Q4ClkhPlZASzoXI9ngxk,34525
+odoo/addons/rma/tests/test_rma.py,sha256=At4plWmPbR0Bc92HaI-7dTPS55rjI9DxeWCtOKiIQoM,33495
 odoo/addons/rma/views/menus.xml,sha256=KWrTOvwY6IB-liNjRvBxTkdCSkes-CMTFI0iakxoavE,603
 odoo/addons/rma/views/report_rma.xml,sha256=8Ejdjiqeen704UJc9mFd80-cXyL7QxdY4otlKC_R8TI,6708
-odoo/addons/rma/views/res_config_settings_views.xml,sha256=_sx48_VPrggfHmO0nIedaM_NRQ0YSQNjlyq5omer0l8,7729
-odoo/addons/rma/views/res_partner_views.xml,sha256=lwQQVUs4_XeeERtJBgy73GtrVpmQowY9omf-h5oLtU8,987
-odoo/addons/rma/views/rma_finalization_views.xml,sha256=n7uDfDuY_3-U-XMw98AnZTeG_E11zE7mvJsWtQ_63jM,2938
+odoo/addons/rma/views/res_config_settings_views.xml,sha256=0dUpIXHbMNAg0hkka-5OwTF_RCK3J0rdCTlWTnw9geQ,4195
+odoo/addons/rma/views/res_partner_views.xml,sha256=3tTGUOwoAk1KWTfNsBCo7KF7zMNZnx_d-8KXFD2R9OI,967
+odoo/addons/rma/views/rma_finalization_views.xml,sha256=GPwPFolEJoGVFmmgov2oJkDdU9hE7MXCS_5GFAuTmwA,2910
 odoo/addons/rma/views/rma_portal_templates.xml,sha256=cPL5U4LTv486LgjS0Pr2ryeKKtCPv9e7GOl7w36j8YQ,27419
 odoo/addons/rma/views/rma_tag_views.xml,sha256=Nhq9pUOHx6TS9dREkavjVzKjPUSjv89vJ3AdNpCNDsQ,2217
-odoo/addons/rma/views/rma_team_views.xml,sha256=ekbQB-lLi8pFV-AAp1ETK1FkPzxoqTCu_XRo6Hf2Bbs,6988
-odoo/addons/rma/views/rma_views.xml,sha256=BdrHsXZC5SybSjU6DxTBlYVTfxIHw-Ka2aMMN129-LY,19283
-odoo/addons/rma/views/stock_picking_views.xml,sha256=0N80h-BuliU2iLIzpkdbLf-YpQ1R97pP9Lq_pKq_M-Q,945
+odoo/addons/rma/views/rma_team_views.xml,sha256=Je4qYrD1p7aujj8azLths6zurYoc1wkNoVJgZGpUTy4,6861
+odoo/addons/rma/views/rma_views.xml,sha256=71IacmRgkvuai0w7Vm_yhnHemXvWlq5qO0x88oKDtqQ,20277
+odoo/addons/rma/views/stock_picking_views.xml,sha256=n_zvjeQS8wedbvPLjbN-mZh53p41jYCcuyOATP2AZ2w,925
 odoo/addons/rma/views/stock_warehouse_views.xml,sha256=01zLs5FioabWQSAICyn2BaKBwADex9Ct6JAVeN5vIYM,775
 odoo/addons/rma/wizard/__init__.py,sha256=v5BQZoM0R5d2jOPuFiq500H2QAEee9eJB-4hKm5Wk7U,190
 odoo/addons/rma/wizard/rma_delivery.py,sha256=fk1SA1ugBMe9AL7nlc2ylIatnftdkCxcahN2wriMT-U,3469
-odoo/addons/rma/wizard/rma_delivery_views.xml,sha256=7hPjdljvRt7oWTIDX1bo4e-9I9pGpSZs6PWxX3kuNSk,3412
+odoo/addons/rma/wizard/rma_delivery_views.xml,sha256=mja4LeQZdLdBjP74IuegLDOzNXax1bXoT0tXXJLbFWo,2927
 odoo/addons/rma/wizard/rma_finalization_wizard.py,sha256=nT5Gb_Itl4289pIsN7h7vNa3Ngt63qF2ykVqtbMNzcs,630
 odoo/addons/rma/wizard/rma_finalization_wizard_views.xml,sha256=q0rKm6iQum0P73muhWo_CxisVv5rExesPbR_FExV8fg,1346
 odoo/addons/rma/wizard/rma_split.py,sha256=PZuVAGCXzRkycxJQIgfbPY__EPRXGPAkiKaGXLsnPbM,2099
 odoo/addons/rma/wizard/rma_split_views.xml,sha256=jtrUmgS9rsUfbgx6y77cUXPnmd1ObY7lmQ_8XZDxxuo,1581
 odoo/addons/rma/wizard/stock_picking_return.py,sha256=lhco0vt-lP_OrDV1E7L1XuvbpGGUuJv9g7-wil_EFXE,3520
-odoo/addons/rma/wizard/stock_picking_return_views.xml,sha256=w5BpawRSCac3-YsS-doYFX-3kxqWqlfA_4bU9dt_F0o,1087
-odoo_addon_rma-16.0.1.2.0.2.dist-info/METADATA,sha256=BnkIkBeC_aOC3A_HliemV5Q4I10tVfR4q57brb6uRrA,8490
-odoo_addon_rma-16.0.1.2.0.2.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
-odoo_addon_rma-16.0.1.2.0.2.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo_addon_rma-16.0.1.2.0.2.dist-info/RECORD,,
+odoo/addons/rma/wizard/stock_picking_return_views.xml,sha256=djP0vAtkoaaN4yGIe4NsVAUvxqVt1-aQ5KS7mHuBz_M,1066
+odoo_addon_rma-17.0.1.0.0.2.dist-info/METADATA,sha256=8_554DaPjKhBzzKTSLiB0iXIiDXGKrqtW9e1suyzmTo,8619
+odoo_addon_rma-17.0.1.0.0.2.dist-info/WHEEL,sha256=8Rd4enx1PCuyDWP4SABqO5Fv8rpaknqp3VzjoFFLa6c,83
+odoo_addon_rma-17.0.1.0.0.2.dist-info/top_level.txt,sha256=QE6RBQ0QX5f4eFuUcGgU5Kbq1A_qJcDs-e_vpr6pmfU,4
+odoo_addon_rma-17.0.1.0.0.2.dist-info/RECORD,,
```

